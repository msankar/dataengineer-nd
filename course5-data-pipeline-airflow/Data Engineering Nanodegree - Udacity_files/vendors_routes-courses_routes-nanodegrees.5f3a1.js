(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2499);Object.defineProperty(t,"UreactRadioQuizAtom",{enumerable:!0,get:function(){return u(r).default}});var o=n(2512);Object.defineProperty(t,"UreactCheckboxQuizAtom",{enumerable:!0,get:function(){return u(o).default}});var i=n(2513);Object.defineProperty(t,"UreactTextAtom",{enumerable:!0,get:function(){return u(i).default}});var a=n(2514);Object.defineProperty(t,"UreactInstructorNotes",{enumerable:!0,get:function(){return u(a).default}});var s=n(2515);Object.defineProperty(t,"UreactImageAtom",{enumerable:!0,get:function(){return u(s).default}});var l=n(2541);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"UreactVideoAtom",{enumerable:!0,get:function(){return u(l).default}})},1992:function(e,t,n){"use strict";var r=i(n(2500)),o=i(n(2509));function i(e){return e&&e.__esModule?e:{default:e}}e.exports={QuizPrompt:r.default,QuizContainer:o.default}},2010:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=d(n(1)),i=d(n(0)),a=d(n(2171)),s=d(n(680)),l=d(n(2569)),u=d(n(2571)),c=d(n(7)),f=d(n(2573));function d(e){return e&&e.__esModule?e:{default:e}}var p,h,m,v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}var y=(0,c.default)(f.default)((m=h=function(t){function i(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=b(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(s))),r.state={selectedFile:0,isLoading:!0,files:r.props.files||{},name:a.default.generateRandomId()},r._updateData=function(t){var n=[];e.each(t,(function(r,o){n.push(t[e.findIndex(t,{name:r.name})]||r)})),r.setState({files:n})},r.handleFileSelect=function(e,t){e.preventDefault(),r.setState({selectedFile:t})},r.handleFileAdd=function(e){var t=r.state.files;e&&(t.push({text:"",name:e}),r.setState({files:t}),r.props.onChange(t))},r.handleFileRename=function(e,t){var n=r.state.files;t&&n[e]&&(n[e].name=t,r.setState({files:n}),r.props.onChange(n))},r.handleFileDelete=function(t,n){t.preventDefault(),t.stopPropagation();var o=r.state,i=o.files,a=o.selectedFile,s=e.findIndex(i,n),l=e.clone(i);window.confirm("Do you really want to delete "+n.name+"?")&&(l.splice(s,1),a===s&&r.setState({selectedFile:0}),r.setState({files:l}),r.props.onChange(l))},r.handleFileChange=function(e){var t=r.state,n=t.selectedFile,o=t.files;o[n]&&(o[n].text=e,r.setState({updatedFiles:o}),r.props.onChange(o))},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),v(i,[{key:"componentWillMount",value:function(){var e=this,t=this.props.files;this._updateData(t),this.props.onChange(this.state.files),n.e(16).then(function(t){e.AceEditor=n(3163).default,n(3168),n(3169),n(3170),n(3171),n(3172),n(3173),n(3174),n(3175),n(3176),n(3178),n(3179),n(3180),n(3181),n(3182),n(3183),e.setState({isLoading:!1})}.bind(null,n)).catch(n.oe)}},{key:"componentWillReceiveProps",value:function(e){var t=e.files;this._updateData(t)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.canDelete,r=e.canAdd,i=e.readOnly,a=e.onChange,c=e.ace,f=this.state,d=f.files,p=f.selectedFile,h=f.isLoading,m=f.name,v=n?this.handleFileDelete:null,b=r?this.handleFileAdd:null,y=r?this.handleFileRename:null,g=d[p]?d[p].name:"",w=(d[p]&&d[p].text,null);return h?o.default.createElement(s.default,null):((d.length>1||v||b)&&(w=o.default.createElement(l.default,{files:d,container:this,selectedFile:p,onSelect:this.handleFileSelect,onDelete:v,onAdd:b,onRename:y})),o.default.createElement("div",{styleName:"code-editor"},w,o.default.createElement("div",{styleName:"editor"},g?o.default.createElement(u.default,{file:d[p],handleFileChange:this.handleFileChange,name:m,id:t,onChange:a,readOnly:i,ace:c,AceEditor:this.AceEditor}):o.default.createElement("p",null,"Get started by adding a new file"))))}}]),i}(o.default.Component),h.displayName="ureact-code-editor",h.propTypes={files:i.default.arrayOf(i.default.shape({text:i.default.string.isRequired,name:i.default.name})),onChange:i.default.func,id:i.default.string,canDelete:i.default.bool,canAdd:i.default.bool,readOnly:i.default.bool,ace:i.default.object},h.defaultProps={files:[],onChange:e.noop,canDelete:!1,canAdd:!1,readOnly:!1},p=m))||p;t.default=y}).call(this,n(4))},2082:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(1)),i=a(n(2167));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,n,i,a){var s=e[t],l=void 0===s?"undefined":r(s);return o.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof s.render||1===s.nodeType?null:new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")})),e.exports=t.default},2162:function(e,t,n){e.exports={container:"quiz-styles--container--2-qpA",prompt:"quiz-styles--prompt--ZLAZm","question-number":"quiz-styles--question-number--3EbH8"}},2163:function(e,t,n){"use strict";e.exports={"Question <%= index %> of <%= count %>":"习题 <%= index %>/<%= count %>","Quiz Question":"练习题"}},2164:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=s(n(2510)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l,u,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=(u=l=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleAnswerClick=function(e){var n=void 0;if(t.props.allowMultiple){var o=t.state.answerSelectedStates;n=c({},o,d({},e,!o[e]))}else n=d({},e,!0);t.setState({answerSelectedStates:n}),t.props.onChange(r.keys(r.pickBy(n,(function(e){return!0===e}))))},t.state={answerSelectedStates:r.reduce(e.defaultSelectedIds,(function(e,t){return e[t]=!0,e}),{})},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),f(n,[{key:"componentWillMount",value:function(){this.handleAnswerClick=r.debounce(this.handleAnswerClick,10)}},{key:"render",value:function(){var t=this,n=this.props,o=n.answers,a=n.isCorrect,s=n.allowMultiple,l=this.state.answerSelectedStates;return e.createElement("ul",null,r.map(o,(function(n){var r=!!l[n.id];return e.createElement(i.default,{key:n.id,id:n.id,text:n.text,onClick:function(e){return t.handleAnswerClick(e)},isChecked:r,isCorrect:r?a:null,isRadio:!s})})))}}]),n}(e.Component),l.displayName="ureact-atoms/common/answer-selector",l.propTypes={onChange:a.default.func,answers:a.default.arrayOf(a.default.shape({id:a.default.string,text:a.default.string})),allowMultiple:a.default.bool,defaultSelectedIds:a.default.array,isCorrect:a.default.bool},l.defaultProps={onChange:r.noop,answers:[],defaultSelectedIds:[],isCorrect:null,allowMultiple:!1},u);t.default=p}).call(this,n(1),n(4))},2165:function(e,t){function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;var t=n();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}},2166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),o=n(2521),i=a(n(2167));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,n,i,a){var s=e[t];return r.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,o.isValidElementType)(s)?null:new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")})),e.exports=t.default},2167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,i,a){var s=o||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),f=6;f<u;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,i,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},2168:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(0)),o=c(n(2082)),i=c(n(103)),a=c(n(133)),s=c(n(1)),l=c(n(17)),u=c(n(2524));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d={container:r.default.oneOfType([o.default,r.default.func]),onContainerResolved:r.default.func},p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t=e.call.apply(e,[this].concat(r))||this,!i.default)return f(t);var a=t.props.container;return"function"==typeof a&&(a=a()),a&&!l.default.findDOMNode(a)?f(t):(t.setContainer(a),t)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e.container)},o.componentDidMount=function(){this._container?this.props.onContainerResolved&&this.props.onContainerResolved():(this.setContainer(this.props.container),this.forceUpdate(this.props.onContainerResolved))},o.componentWillUnmount=function(){this._container=null},o.setContainer=function(e){this._container=(0,u.default)(e,(0,a.default)().body)},o.render=function(){return this._container?this.props.children(this._container):null},r}(s.default.Component);p.propTypes=d;var h=p;t.default=h,e.exports=t.default},2169:function(e,t,n){"use strict";var r=function(){};e.exports=r},2171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o={default:"txt",modes:{js:"javascript",html:"html",java:"java",py:"python",xml:"xml",md:"markdown",css:"css",json:"json",c:"c_cpp",cc:"c_cpp",cpp:"c_cpp",h:"c_cpp",hpp:"c_cpp",m:"objectivec",swift:"swift",txt:"text",sql:"sql",r:"r",rb:"ruby"},getExtension:function(e){var t=e.split("."),n=r(t,2)[1];return(void 0===n?o.default:n).toLowerCase()},getMode:function(e){var t=e?o.getExtension(e):"";return o.modes[t]||"text"},generateRandomId:function(){return"ureact-code-editor-"+Math.random().toString(36).slice(-8)}};t.default=o},2499:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1992),a=l(n(2164)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=(c=u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),f(n,[{key:"render",value:function(){var t=this.props,n=t.atom,o=t.index,s=t.count,l=t.isCorrect,u=t.selectedId,c=t.onAnswerChange;return e.createElement(i.QuizContainer,null,e.createElement(i.QuizPrompt,{index:o,count:s,text:r.get(n,"question.prompt","")}),e.createElement(a.default,{defaultSelectedIds:[u],answers:(n.question||{}).answers,onChange:c,isCorrect:l}))}}]),n}(e.Component),u.displayName="atoms/radio-quiz-atom",u.propTypes={atom:s.default.object,selectedId:s.default.string,onAnswerChange:s.default.func,isCorrect:s.default.bool,index:s.default.number,count:s.default.number},u.defaultProps={atom:{}},c);t.default=d}).call(this,n(1),n(4))},2500:function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=p(n(633)),u=p(n(0)),c=p(n(1)),f=p(n(2162)),d=n(2501);function p(e){return e&&e.__esModule?e:{default:e}}var h=e(f.default)((a=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.count,n=e.index,r=e.text;return c.default.createElement("div",{styleName:"prompt"},t&&n?c.default.createElement("h3",{styleName:"question-number"},t>1?(0,d.__)("Question <%= index %> of <%= count %>",{index:n,count:t}):(0,d.__)("Quiz Question")):null,c.default.createElement(l.default,{text:r}))}}]),t}(c.default.Component),i.propTypes={index:u.default.number,count:u.default.number,text:u.default.string},i.defaultProps={index:null,count:null,text:""},o=a))||o;t.default=h}).call(this,n(7))},2501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__=void 0;var r=new(n(2502).I18n)(n(2508));t.__=r.__},2502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2503);Object.defineProperty(t,"I18n",{enumerable:!0,get:function(){return r.I18n}}),Object.defineProperty(t,"I18N_CONSTANTS",{enumerable:!0,get:function(){return r.I18N_CONSTANTS}})},2503:function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.I18n=t.I18N_CONSTANTS=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(372)),s=d(n(4)),l=d(n(671)),u=d(n(2504)),c=d(n(1)),f=d(n(2507));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h={GEO_API_HEADER:"X-Berlioz-Country",GLOBAL_KEY:"@udacity/ureact-i18n__locale",GLOBAL_COOKIE_KEY:"udacity__locale",GLOBAL_LOCALE_MAP_KEY:"@udacity/ureact-i18n__locale_map",JWT_TOKEN_KEY:"_jwt",JWT_TOKEN_KEY_OLD:"_jwt_token",LOCATION_METHOD:{QUERY_PARAM:"_setLocaleFromQueryParam",BROWSER_COOKIE:"_setLocaleFromCookie",USER_PREFERENCE_API:"_setLocaleFromUserPreferenceApi",BROWSER_PREFERENCE:"_setLocaleFromBrowserPreference",GEO_API:"_setLocaleFromGeoAPI",DEFAULT:"_setDefaultLocale"},PSEUDOLOCALIZE_KEY:"__test__",USER_PREF_LANG_API:"https://classroom-content.udacity.com/api/v1/graphql"},m=t.I18N_CONSTANTS={DEFAULT_LOCALE:"en-us",DEFAULT_LOCATION:"US",GEO_API:"https://geode.udacity.com",LOCALE_MAP:{ar:"العربية",de:"Deutsch","en-us":"English",es:"Español",id:"Bahasa Indonesia",ja:"日本語",ko:"한국어","pt-br":"Português",uz:"O'zbekcha","zh-cn":"中文（简体）"}},v=[h.LOCATION_METHOD.QUERY_PARAM,h.LOCATION_METHOD.BROWSER_COOKIE,h.LOCATION_METHOD.BROWSER_PREFERENCE,h.LOCATION_METHOD.DEFAULT];t.I18n=function(){function t(e,n){var r=this;p(this,t),this.__=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=r._lookup(e,r.getLocale());return y(n)?b(i(n[0])):i(n[0])},this._lookup=s.default.memoize((function(e,t){var n=this._getLocaleMap(t),r=void 0;return-1!==(r=this.options.debug&&t===h.PSEUDOLOCALIZE_KEY?(0,f.default)(e):e?n&&n[e]||e:"").indexOf("%s")?r:s.default.template(r)}),(function(e,t){return t+"-"+e})),this._tryNextLocaleMethod=function(e){return function(t){return t||r[e]()}};this.options=o({},{allowPseudo:!1},n),this._setLocaleMap(e)}return i(t,[{key:"activate",value:function(){var t=this,n=v;return this.options.refresh&&(n=[h.LOCATION_METHOD.USER_PREFERENCE_API].concat(v)),n.reduce((function(e,n){return e.then(t._tryNextLocaleMethod(n)).catch((function(){return!1}))}),e.resolve(!1))}}]),i(t,[{key:"getLocale",value:function(){return window[h.GLOBAL_KEY]||g("UREACT-I18N - MISUSE WARNING: Component might not have been activated properly.\n         Make sure you run i18n.activate() before your DOM renders (check the docs).\n         Default language is "+m.DEFAULT_LOCALE),(window[h.GLOBAL_KEY]||m.DEFAULT_LOCALE).toLowerCase()}},{key:"getLanguage",value:function(){return m.LOCALE_MAP[this.getLocale()]}},{key:"saveLocaleToCookie",value:function(e,t){if(!t){var n=new Date;n.setFullYear(n.getFullYear()+5),t=n.toUTCString()}document.cookie=h.GLOBAL_COOKIE_KEY+"="+e+"; domain=.udacity.com;expires="+t+"; path=/;secure;"}},{key:"_setDefaultLocale",value:function(){return this._setLocale(m.DEFAULT_LOCALE)}},{key:"_setLocaleFromCookie",value:function(){return this._setLocale(this._getCookieLocale())}},{key:"_setLocaleFromGeoAPI",value:function(){var e=this;return this.fetchGeoLocation().then((function(t){return e._setLocale(t.countryCode)}))}},{key:"_setLocaleFromBrowserPreference",value:function(){return this._setLocale(this._getNavigatorLocale())}},{key:"_setLocaleFromQueryParam",value:function(){return this._setLocale(function(e,t){t||(t=window.location.href);e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);if(!n)return null;if(!n[2])return"";return decodeURIComponent(n[2].replace(/\+/g," "))}("locale",this._getCurrentURLParams()))}},{key:"_setLocaleFromUserPreference",value:function(){var e=this._getJWT();return this._setLocale(e?(0,u.default)(e).l:null)}},{key:"_setLocaleFromUserPreferenceApi",value:function(){var e=this,t=this._getJWT();return t?(0,l.default)({method:"POST",url:h.USER_PREF_LANG_API,headers:{Authorization:"Bearer "+t},data:{query:"\n    query UserSettingsQuery {\n      user {\n        preferred_language\n      }\n    }"}}).then((function(t){var n;return t.error&&t.error.length&&console.error(t.error[0]),n=s.default.get(t,"data.user.preferred_language")||s.default.get(t,"data.data.user.preferred_language"),e._setLocale(n||null)})):this._setLocale(null)}},{key:"fetchGeoLocation",value:function(){return l.default.get(m.GEO_API).then((function(e){return e.data}))}},{key:"_setLocale",value:function(t){var n=this;return new e((function(e){return s.default.isString(t)&&""!==t?(t=t.toLowerCase(),window[h.GLOBAL_KEY]=t,n.options&&n.options.moment&&n.options.moment.locale(t),e(n.getLocale())):e(!1)}))}},{key:"_setLocaleMap",value:function(e){window[h.GLOBAL_LOCALE_MAP_KEY]=function(e,t){var n=void 0;s.default.isFunction(e)?(g("\n      UREACT-I18N - DEPRECATION WARNING: use of 'require.context' when initializing a new I18n instance is deprecated. See updated usage documentation at: https://github.com/udacity/ureact-i18n#step-1-instantiate-a-new-i18n-object\n    "),n=s.default.chain(e.keys()).filter((function(e){return/\.js$/.test(e)})).map((function(t){var n;return[(n=t,s.default.last(n.split("/")).split(".")[0]).toLowerCase(),e(t)]})).fromPairs().value()):n=e;return s.default.reduce(n,(function(e,n,r){return e[r]=s.default.isUndefined(t)||s.default.isUndefined(t[r])?n:o({},t[r],n),e}),t||{})}(e,window[h.GLOBAL_LOCALE_MAP_KEY])}},{key:"_getLocaleMap",value:function(e){return window[h.GLOBAL_LOCALE_MAP_KEY][e]||window[h.GLOBAL_LOCALE_MAP_KEY][e.split("-")[0]]}},{key:"_getCurrentURLParams",value:function(){return window.location.search}},{key:"_getNavigatorLocale",value:function(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.userLanguage}},{key:"_getCookieLocale",value:function(){var e=(document.cookie?document.cookie.split(";"):[]).filter((function(e){return e.indexOf(h.GLOBAL_COOKIE_KEY)>-1}))[0];if(e){var t=e.split("=")[1];if(t&&""!==t.trim())return t.trim()}}},{key:"_getJWT",value:function(){return a.get(h.JWT_TOKEN_KEY)||a.get(h.JWT_TOKEN_KEY_OLD)}}]),t}();function b(e){var t=function(t){function n(){return p(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"render",value:function(){return c.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}}]),n}(c.default.Component);return c.default.createElement(t,null)}function y(e){var t=e[e.length-1];return t&&t.renderHTML}function g(e){0}}).call(this,n(8))},2504:function(e,t,n){"use strict";var r=n(2505);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},2505:function(e,t,n){var r=n(2506);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return r(t)}}},2506:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,a=0,s=0,l="";i=t.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?l+=String.fromCharCode(255&o>>(-2*a&6)):0)i=n.indexOf(i);return l}},2507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.35,n=/(<%=?.+?%>)/g;return e.split(n).map((function(e){return n.test(e)?e:e.split(/\b/).map((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return e+"~".repeat(Math.floor(e.trim().length*t))}(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").map((function(e){var t=r[e]||e;return t[Math.floor(Math.random()*t.length)]})).join("")}(e),t)})).join("")})).join("")};var r={A:String.fromCharCode(192,193,194,195,196,197,256,258,260,506,512,514),a:String.fromCharCode(224,225,226,227,228,229,257,259,261,507,513,515),B:String.fromCharCode(223,385,579,665),b:String.fromCharCode(384,386,387,388,389,595),C:String.fromCharCode(262,264,266,268),c:String.fromCharCode(263,265,267,269),D:String.fromCharCode(270,272,393,394),d:String.fromCharCode(271,273),E:String.fromCharCode(274,276,278,280,282,516,518),e:String.fromCharCode(275,277,279,281,283,517,519),F:String.fromCharCode(401),f:String.fromCharCode(402),G:String.fromCharCode(284,286,288,290),g:String.fromCharCode(285,287,289,291),H:String.fromCharCode(292,294),h:String.fromCharCode(293,295),I:String.fromCharCode(296,298,300,302,304),i:String.fromCharCode(297,299,301,303,305),J:String.fromCharCode(309),j:String.fromCharCode(308),K:String.fromCharCode(310,408),k:String.fromCharCode(311,312,409),L:String.fromCharCode(313,315,317,319,321),l:String.fromCharCode(314,316,318,320,322),N:String.fromCharCode(323,325,327,330,413),n:String.fromCharCode(324,326,328,329,331,414),O:String.fromCharCode(332,334,336,416),o:String.fromCharCode(333,335,337,417),P:String.fromCharCode(420),p:String.fromCharCode(421,447),Q:String.fromCharCode(490,492),q:String.fromCharCode(491,493,587),R:String.fromCharCode(340,342,344,422),r:String.fromCharCode(341,343,345),S:String.fromCharCode(346,348,350,352),s:String.fromCharCode(347,349,351,353),T:String.fromCharCode(354,356,358),t:String.fromCharCode(355,357,359),U:String.fromCharCode(360,362,364,366,368,370),u:String.fromCharCode(361,363,365,367,369,371),W:String.fromCharCode(372),w:String.fromCharCode(373),Y:String.fromCharCode(374,376,435,562,590),y:String.fromCharCode(375,436,563,591),Z:String.fromCharCode(377,379,381,437),z:String.fromCharCode(378,380,382,438)}},2509:function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=e(s(n(2162)).default)(o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return a.default.createElement("div",{styleName:"container"},this.props.children)}}]),t}(a.default.Component))||o;t.default=l}).call(this,n(7))},2510:function(e,t,n){"use strict";(function(e,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(47),s=u(n(0)),l=u(n(2511));function u(e){return e&&e.__esModule?e:{default:e}}var c,f,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=e(l.default)((d=f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.text,o=e.onClick,i=e.isChecked,s=e.isCorrect,l=e.isRadio,u=l?a.Radio:a.Checkbox,c=void 0,f=void 0;return!0===s?(c="answer-correct",f=!0):!1===s&&l?(c="answer-incorrect",f=!0):(c="answer",f=!1),r.createElement("li",{styleName:c,onClick:function(){return o(t)}},r.createElement("div",{styleName:"status"},f?r.createElement("div",{styleName:"answered-label"},r.createElement(a.Markdown,{text:n})):r.createElement(u,{styleName:"selector",checked:i,readOnly:!0,style:{marginRight:"0.5em"}},r.createElement(a.Markdown,{text:n}))))}}]),t}(r.Component),f.displayName="atoms/radio-button-quiz-atom/_answer",f.propTypes={id:s.default.string.isRequired,text:s.default.string.isRequired,onClick:s.default.func,isChecked:s.default.bool,isCorrect:s.default.bool,isRadio:s.default.bool},f.defaultProps={onClick:o.noop,isChecked:!1,isCorrect:null,isRadio:!0},c=d))||c;t.default=h}).call(this,n(7),n(1),n(4))},2511:function(e,t,n){e.exports={answer:"_answer--answer--1HCPX",selector:"_answer--selector--lhYoz","answer-correct":"_answer--answer-correct--13UjS _answer--answer--1HCPX",status:"_answer--status--1Esuk","answer-incorrect":"_answer--answer-incorrect--1ZHlH _answer--answer--1HCPX","answered-label":"_answer--answered-label--313DP"}},2512:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1992),a=l(n(2164)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=(c=u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),f(n,[{key:"render",value:function(){var t=this.props,n=t.atom,o=t.index,s=t.count,l=t.isCorrect,u=t.selectedIds,c=t.onAnswerChange;return e.createElement(i.QuizContainer,null,e.createElement(i.QuizPrompt,{index:o,count:s,text:r.get(n,"question.prompt","")}),e.createElement(a.default,{defaultSelectedIds:u,answers:(n.question||{}).answers,isCorrect:l,onChange:c,allowMultiple:!0}))}}]),n}(e.Component),u.displayName="atoms/checkbox-quiz-atom",u.propTypes={atom:s.default.object,selectedIds:s.default.array,onAnswerChange:s.default.func,isCorrect:s.default.bool,index:s.default.number,count:s.default.number},u.defaultProps={atom:{}},c);t.default=d}).call(this,n(1),n(4))},2513:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(47),s=n(0),l=(o=s)&&o.__esModule?o:{default:o};var u,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=(c=u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),f(n,[{key:"render",value:function(){var t=this.props,n=t.text,o=t.textDirection;return r.isEmpty(n)?null:e.createElement("div",{className:o},e.createElement(a.Markdown,{text:n}))}}]),n}(e.Component),u.displayName="atoms/text-atom",u.propTypes={text:l.default.string,textDirection:l.default.string},c);t.default=d}).call(this,n(1),n(4))},2514:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(47),s=n(0),l=(o=s)&&o.__esModule?o:{default:o};var u,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=(c=u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),f(n,[{key:"render",value:function(){var t=this.props,n=t.notes,o=t.textDirection;return r.isEmpty(n)?null:e.createElement("div",{className:o},e.createElement(a.Markdown,{text:n}))}}]),n}(e.Component),u.displayName="common/instructor-notes",u.propTypes={notes:l.default.string,textDirection:l.default.string},c);t.default=d}).call(this,n(1),n(4))},2515:function(e,t,n){"use strict";(function(e,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=c(n(2516)),s=n(47),l=c(n(0)),u=c(n(2540));function c(e){return e&&e.__esModule?e:{default:e}}var f,d,p,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var m=e(u.default,{allowMultiple:!0})((p=d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.caption,n=e.alt,i=e.annotations,l=e.fullscreen,u=e.imageGeoUrl,c=e.url,f=e.isWideLayout,d=e.width;return r.createElement("div",{styleName:"image-atom-content "+(l?"fullscreen":"")},r.createElement("div",{styleName:f?"image-and-annotations-container-wide":"image-and-annotations-container"},r.createElement("img",{ref:"image",styleName:"image",src:u||c,alt:n,width:l?null:d+"px"}),o.map(i,(function(e,t){return r.createElement(a.default,{key:t,x:e.x,y:e.y,width:e.width,height:e.height,text:e.text})}))),t?r.createElement("div",{styleName:"caption"},r.createElement(s.Markdown,{text:t})):null)}}]),t}(r.Component),d.displayName="atoms/image-atom/_image-atom-content",d.propTypes={url:l.default.string.isRequired,non_google_url:l.default.string,width:l.default.number,caption:l.default.string,alt:l.default.string,annotations:l.default.array,fullscreen:l.default.bool,imageGeoUrl:l.default.string,isWideLayout:l.default.bool},f=p))||f;t.default=m}).call(this,n(7),n(1),n(4))},2516:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(47),i=u(n(2517)),a=u(n(2537)),s=u(n(0)),l=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var c,f,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=(f=c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"_getPercentage",value:function(e){return Math.round(1e3*e)/10+"%"}},{key:"render",value:function(){var e={position:"absolute",left:this._getPercentage(this.props.x),top:this._getPercentage(this.props.y),width:this._getPercentage(this.props.width),height:this._getPercentage(this.props.height)},t=l.default.createElement(a.default,{id:this.props.x},l.default.createElement(o.Markdown,{text:this.props.text}));return l.default.createElement(i.default,{trigger:["hover","focus"],placement:"top",overlay:t},l.default.createElement("div",{className:"_image-atom-annotation",style:e},l.default.createElement("div",{className:"box"})))}}]),t}(l.default.Component),c.displayName="atoms/image-atom/_image-atom-annotation",c.propTypes={x:s.default.number.isRequired,y:s.default.number.isRequired,width:s.default.number.isRequired,height:s.default.number.isRequired,text:s.default.string.isRequired},f);t.default=p},2517:function(e,t,n){"use strict";var r=n(2165),o=n(12);t.__esModule=!0,t.default=void 0;var i=o(n(183)),a=o(n(239)),s=o(n(184)),l=o(n(243)),u=r(n(1)),c=o(n(17)),f=o(n(0)),d=(o(n(2518)),o(n(2519))),p=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.default)(t,e),t.prototype.render=function(){return this.props.children},t}(u.default.Component),h=function(e){return e&&"object"==typeof e?e:{show:e,hide:e}},m=f.default.oneOf(["click","hover","focus"]),v={children:f.default.element.isRequired,trigger:f.default.oneOfType([m,f.default.arrayOf(m)]),delay:f.default.oneOfType([f.default.number,f.default.shape({show:f.default.number,hide:f.default.number})]),defaultShow:f.default.bool,overlay:f.default.oneOfType([f.default.func,f.default.element.isRequired]),target:f.default.oneOf([null]),onHide:f.default.oneOf([null]),show:f.default.oneOf([null])},b=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).getTarget=function(){return c.default.findDOMNode(r.trigger.current)},r.handleShow=function(){clearTimeout(r._timeout),r._hoverState="show";var e=h(r.props.delay);e.show?r._timeout=setTimeout((function(){"show"===r._hoverState&&r.show()}),e.show):r.show()},r.handleHide=function(){clearTimeout(r._timeout),r._hoverState="hide";var e=h(r.props.delay);e.hide?r._timeout=setTimeout((function(){"hide"===r._hoverState&&r.hide()}),e.hide):r.hide()},r.handleFocus=function(e){var t=r.getChildProps().onFocus;r.handleShow(e),t&&t(e)},r.handleBlur=function(e){var t=r.getChildProps().onBlur;r.handleHide(e),t&&t(e)},r.handleClick=function(e){var t=r.getChildProps().onClick;r.state.show?r.hide():r.show(),t&&t(e)},r.handleMouseOver=function(e){r.handleMouseOverOut(r.handleShow,e,"fromElement")},r.handleMouseOut=function(e){return r.handleMouseOverOut(r.handleHide,e,"toElement")},r.trigger=u.default.createRef(),r.state={show:!!t.defaultShow},r.ariaModifier={enabled:!0,order:900,fn:function(e){var t=e.instance.popper,n=r.getTarget();if(!r.state.show||!n)return e;var o=t.getAttribute("role")||"";return t.id&&"tooltip"===o.toLowerCase()&&n.setAttribute("aria-describedby",t.id),e}},r}(0,s.default)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this._timeout)},n.getChildProps=function(){return u.default.Children.only(this.props.children).props},n.handleMouseOverOut=function(e,t,n){var r=t.currentTarget,o=t.relatedTarget||t.nativeEvent[n];o&&o===r||(0,l.default)(r,o)||e(t)},n.hide=function(){this.setState({show:!1})},n.show=function(){this.setState({show:!0})},n.render=function(){var e=this.props,t=e.trigger,n=e.overlay,r=e.children,o=e.popperConfig,s=void 0===o?{}:o,l=(0,a.default)(e,["trigger","overlay","children","popperConfig"]);delete l.delay,delete l.defaultShow;var c=u.default.Children.only(r),f={},h=null==t?[]:[].concat(t);return-1!==h.indexOf("click")&&(f.onClick=this.handleClick),-1!==h.indexOf("focus")&&(f.onFocus=this.handleShow,f.onBlur=this.handleHide),-1!==h.indexOf("hover")&&(f.onMouseOver=this.handleMouseOver,f.onMouseOut=this.handleMouseOut),u.default.createElement(u.default.Fragment,null,u.default.createElement(p,{ref:this.trigger},(0,u.cloneElement)(c,f)),u.default.createElement(d.default,(0,i.default)({},l,{popperConfig:(0,i.default)({},s,{modifiers:(0,i.default)({},s.modifiers,{ariaModifier:this.ariaModifier})}),show:this.state.show,onHide:this.handleHide,target:this.getTarget}),n))},t}(u.default.Component);b.propTypes=v,b.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};var y=b;t.default=y,e.exports=t.default},2518:function(e,t,n){"use strict";var r=function(){};e.exports=r},2519:function(e,t,n){"use strict";var r=n(12);t.__esModule=!0,t.default=void 0;var o=r(n(239)),i=r(n(183)),a=r(n(1)),s=n(17),l=r(n(40)),u=r(n(0)),c=r(n(2520)),f=r(n(2166)),d=r(n(2532)),p=(0,i.default)({},c.default.propTypes,{show:u.default.bool,rootClose:u.default.bool,onHide:u.default.func,transition:u.default.oneOfType([u.default.bool,f.default]),onEnter:u.default.func,onEntering:u.default.func,onEntered:u.default.func,onExit:u.default.func,onExiting:u.default.func,onExited:u.default.func,placement:u.default.oneOf(["top","right","bottom","left"])}),h={transition:d.default,rootClose:!1,show:!1,placement:"top"};function m(e){var t=e.children,n=e.transition,r=(0,o.default)(e,["children","transition"]);return n=!0===n?d.default:n||null,a.default.createElement(c.default,(0,i.default)({},r,{transition:n}),(function(e){var r=e.props,u=e.arrowProps,c=e.show,f=(0,o.default)(e,["props","arrowProps","show"]);return function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n((0,s.findDOMNode)(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r((0,s.findDOMNode)(e))})}(r,u),"function"==typeof t?t((0,i.default)({},f,r,{show:c,arrowProps:u})):a.default.cloneElement(t,(0,i.default)({},f,r,{arrowProps:u,className:(0,l.default)(t.props.className,!n&&c&&"show"),style:(0,i.default)({},t.props.style,r.style)}))}))}m.propTypes=p,m.defaultProps=h;var v=m;t.default=v,e.exports=t.default},2520:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(0)),o=p(n(2166)),i=p(n(2082)),a=p(n(1)),s=p(n(17)),l=p(n(2523)),u=p(n(2525)),c=n(3501),f=p(n(2531)),d=p(n(2168));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).handleHidden=function(){var e;(r.setState({exited:!0}),r.props.onExited)&&(e=r.props).onExited.apply(e,arguments)},r.state={exited:!t.show},r.onHiddenListener=r.handleHidden.bind(v(v(r))),r._lastTarget=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){return e.show?{exited:!1}:e.transition?null:{exited:!0}};var o=r.prototype;return o.componentDidMount=function(){this.setState({target:this.getTarget()})},o.componentDidUpdate=function(e){if(this.props!==e){var t=this.getTarget();t!==this.state.target&&this.setState({target:t})}},o.getTarget=function(){var e=this.props.target;return(e="function"==typeof e?e():e)&&s.default.findDOMNode(e)||null},o.render=function(){var e=this,t=this.props,n=(t.target,t.container),r=t.containerPadding,o=t.placement,i=t.rootClose,s=t.children,f=t.flip,d=t.popperConfig,p=void 0===d?{}:d,v=t.transition,b=m(t,["target","container","containerPadding","placement","rootClose","children","flip","popperConfig","transition"]),y=this.state.target;if(!(b.show||v&&!this.state.exited))return null;var g=s,w=p.modifiers,_=void 0===w?{}:w,O=h({},p,{placement:o,referenceElement:y,enableEvents:b.show,modifiers:h({},_,{preventOverflow:h({padding:r||5},_.preventOverflow),flip:h({enabled:!!f},_.preventOverflow)})});return g=a.default.createElement(c.Popper,O,(function(t){var n=t.arrowProps,r=t.style,i=t.ref,s=m(t,["arrowProps","style","ref"]);e.popper=s;var l=e.props.children(h({},s,{placement:s.placement||o,show:b.show,arrowProps:n,props:{ref:i,style:r}}));if(v){var u=b.onExit,c=b.onExiting,f=b.onEnter,d=b.onEntering,p=b.onEntered;l=a.default.createElement(v,{in:b.show,appear:!0,onExit:u,onExiting:c,onExited:e.onHiddenListener,onEnter:f,onEntering:d,onEntered:p},l)}return l})),i&&(g=a.default.createElement(u.default,{onRootClose:b.onHide,event:b.rootCloseEvent,disabled:b.rootCloseDisabled},g)),a.default.createElement(l.default,{container:n},g)},r}(a.default.Component);b.propTypes=h({},l.default.propTypes,{show:r.default.bool,placement:r.default.oneOf(c.placements),container:r.default.oneOfType([i.default,r.default.func]),flip:r.default.bool,children:r.default.func.isRequired,popperConfig:r.default.object,rootClose:r.default.bool,rootCloseEvent:u.default.propTypes.event,rootCloseDisabled:u.default.propTypes.disabled,onHide:function(e){var t=r.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.apply(void 0,[e].concat(o))},transition:o.default,onEnter:r.default.func,onEntering:r.default.func,onEntered:r.default.func,onExit:r.default.func,onExiting:r.default.func,onExited:r.default.func});var y=(0,f.default)((function(e,t){return a.default.createElement(d.default,{container:e.container},(function(n){return a.default.createElement(b,h({},e,{ref:t,container:n}))}))}),{displayName:"withContainer(Overlay)"});t.default=y,e.exports=t.default},2521:function(e,t,n){"use strict";e.exports=n(2522)},2522:function(e,t,n){"use strict";
/** @license React v16.7.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case u:return e;default:return t}}case v:case m:case i:return t}}}function y(e){return b(e)===d}t.typeOf=b,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||b(e)===f},t.isConcurrentMode=y,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===l},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===h}},2523:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(0)),o=l(n(2082)),i=l(n(1)),a=l(n(17)),s=l(n(2168));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this;return this.props.children?i.default.createElement(s.default,{container:this.props.container,onContainerResolved:this.props.onRendered},(function(t){return a.default.createPortal(e.props.children,t)})):null},r}(i.default.Component);u.displayName="Portal",u.propTypes={container:r.default.oneOfType([o.default,r.default.func]),onRendered:r.default.func};var c=u;t.default=c,e.exports=t.default},2524:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return null==e?t:(e="function"==typeof e?e():e,o.default.findDOMNode(e)||null)};var r,o=(r=n(17))&&r.__esModule?r:{default:r};e.exports=t.default},2525:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(243)),o=u(n(2526)),i=u(n(0)),a=u(n(1)),s=u(n(17)),l=u(n(2527));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=27,d=function(){};var p=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,t,n)||this).addEventListeners=function(){var e=i.props.event,t=(0,l.default)(c(c(i)));i.removeMouseCaptureListener=(0,o.default)(t,e,i.handleMouseCapture,!0),i.removeMouseListener=(0,o.default)(t,e,i.handleMouse),i.removeKeyupListener=(0,o.default)(t,"keyup",i.handleKeyUp),"ontouchstart"in t.documentElement&&(i.mobileSafariHackListeners=[].slice.call(document.body.children).map((function(e){return(0,o.default)(e,"mousemove",d)})))},i.removeEventListeners=function(){i.removeMouseCaptureListener&&i.removeMouseCaptureListener(),i.removeMouseListener&&i.removeMouseListener(),i.removeKeyupListener&&i.removeKeyupListener(),i.mobileSafariHackListeners&&i.mobileSafariHackListeners.forEach((function(e){return e()}))},i.handleMouseCapture=function(e){var t;i.preventMouseRootClose=!!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||!function(e){return 0===e.button}(e)||(0,r.default)(s.default.findDOMNode(c(c(i))),e.target)},i.handleMouse=function(e){!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(e)},i.handleKeyUp=function(e){e.keyCode===f&&i.props.onRootClose&&i.props.onRootClose(e)},i.preventMouseRootClose=!1,i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.componentDidMount=function(){this.props.disabled||this.addEventListeners()},a.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},a.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},a.render=function(){return this.props.children},i}(a.default.Component);p.displayName="RootCloseWrapper",p.propTypes={onRootClose:i.default.func,children:i.default.element,disabled:i.default.bool,event:i.default.oneOf(["click","mousedown"])},p.defaultProps={event:"click"};var h=p;t.default=h,e.exports=t.default},2526:function(e,t,n){"use strict";var r=n(12);t.__esModule=!0,t.default=void 0;var o=r(n(103)),i=r(n(377)),a=r(n(692)),s=function(){};o.default&&(s=function(e,t,n,r){return(0,i.default)(e,t,n,r),function(){(0,a.default)(e,t,n,r)}});var l=s;t.default=l,e.exports=t.default},2527:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(r.default.findDOMNode(e))};var r=i(n(17)),o=i(n(133));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2528:function(e,t,n){"use strict";(function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:l(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?c:10===e?f:c||f}function p(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(l):l;var u=h(e);return u.host?m(u.host,t):m(e,h(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function b(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function g(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function x(e){return E({},e,{right:e.left+e.width,bottom:e.top+e.height})}function C(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=v(e,"top"),r=v(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?g(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,l=i.height||e.clientHeight||o.height,u=e.offsetWidth-s,c=e.offsetHeight-l;if(u||c){var f=a(e);u-=b(f,"x"),c-=b(f,"y"),o.width-=u,o.height-=c}return x(o)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),o="HTML"===t.nodeName,i=C(e),s=C(t),u=l(e),c=a(t),f=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=x({top:i.top-s.top-f,left:i.left-s.left-p,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var m=parseFloat(c.marginTop,10),b=parseFloat(c.marginLeft,10);h.top-=f-m,h.bottom-=f-m,h.left-=p-b,h.right-=p-b,h.marginTop=m,h.marginLeft=b}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),o=v(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(h,t)),h}function T(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function j(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},c=o?T(e):m(e,u(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=S(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:v(n),s=t?0:v(n,"left");return x({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(c,o);else{var f=void 0;"scrollParent"===r?"BODY"===(f=l(s(t))).nodeName&&(f=e.ownerDocument.documentElement):f="window"===r?e.ownerDocument.documentElement:r;var d=S(f,c,o);if("HTML"!==f.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(t,"position"))return!0;var r=s(t);return!!r&&e(r)}(c))i=d;else{var p=g(e.ownerDocument),h=p.height,b=p.width;i.top+=d.top-d.marginTop,i.bottom=h+d.top,i.left+=d.left-d.marginLeft,i.right=b+d.left}}var y="number"==typeof(n=n||0);return i.left+=y?n:n.left||0,i.top+=y?n:n.top||0,i.right-=y?n:n.right||0,i.bottom-=y?n:n.bottom||0,i}function k(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=j(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return E({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S(n,r?T(t):m(t,u(n)),r)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function P(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function A(e,t,n){n=n.split("-")[0];var r=L(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[u]:t[P(s)],o}function M(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function D(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=M(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=x(t.offsets.popper),t.offsets.reference=x(t.offsets.reference),t=n(t,e))})),t}function R(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=q(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=k(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=A(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function N(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function I(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function Q(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[I("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function F(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,r){n.updateBound=r,F(e).addEventListener("resize",n.updateBound,{passive:!0});var o=l(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(l(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function U(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}function z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,F(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function W(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var G=n&&/Firefox/i.test(navigator.userAgent);function $(e,t,n){var r=M(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var K=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Y=K.slice(3);function V(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Y.indexOf(e),r=Y.slice(n+1).concat(Y.slice(0,n));return t?r.reverse():r}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(M(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return x(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){H(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:O({},l,i[l]),end:O({},l,i[l]+i[u]-a[u])};e.offsets.popper=E({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=H(+n)?[+n,0]:J(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=I("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=j(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,f={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),O({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),O({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=E({},c,f[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[u]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,l=i.reference,u=-1!==["left","right"].indexOf(o),c=u?"height":"width",f=u?"Top":"Left",d=f.toLowerCase(),p=u?"left":"top",h=u?"bottom":"right",m=L(r)[c];l[h]-m<s[d]&&(e.offsets.popper[d]-=s[d]-(l[h]-m)),l[d]+m>s[h]&&(e.offsets.popper[d]+=l[d]+m-s[h]),e.offsets.popper=x(e.offsets.popper);var v=l[d]+l[c]/2-m/2,b=a(e.instance.popper),y=parseFloat(b["margin"+f],10),g=parseFloat(b["border"+f+"Width"],10),w=v-e.offsets.popper[d]-y-g;return w=Math.max(Math.min(s[c]-m,w),0),e.arrowElement=r,e.offsets.arrow=(O(n={},d,Math.round(w)),O(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=j(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=P(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case X.FLIP:a=[r,o];break;case X.CLOCKWISE:a=V(r);break;case X.COUNTERCLOCKWISE:a=V(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=P(r);var u=e.offsets.popper,c=e.offsets.reference,f=Math.floor,d="left"===r&&f(u.right)>f(c.left)||"right"===r&&f(u.left)<f(c.right)||"top"===r&&f(u.bottom)>f(c.top)||"bottom"===r&&f(u.top)<f(c.bottom),p=f(u.left)<f(n.left),h=f(u.right)>f(n.right),m=f(u.top)<f(n.top),v=f(u.bottom)>f(n.bottom),b="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),g=!!t.flipVariations&&(y&&"start"===i&&p||y&&"end"===i&&h||!y&&"start"===i&&m||!y&&"end"===i&&v),w=!!t.flipVariationsByContent&&(y&&"start"===i&&h||y&&"end"===i&&p||!y&&"start"===i&&v||!y&&"end"===i&&m),_=g||w;(d||b||_)&&(e.flipped=!0,(d||b)&&(r=a[l+1]),_&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=E({},e.offsets.popper,A(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=P(t),e.offsets.popper=x(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=M(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=M(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=p(e.instance.popper),l=C(s),u={position:o.position},c=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),u=i(r.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?c||f||l%2==u%2?i:a:s,p=t?i:s;return{left:d(l%2==1&&u%2==1&&!f&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!G),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",h=I("transform"),m=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&h)u[h]="translate3d("+m+"px, "+v+"px, 0)",u[f]=0,u[d]=0,u.willChange="transform";else{var b="bottom"===f?-1:1,y="right"===d?-1:1;u[f]=v*b,u[d]=m*y,u.willChange=f+", "+d}var g={"x-placement":e.placement};return e.attributes=E({},g,e.attributes),e.styles=E({},u,e.styles),e.arrowStyles=E({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return W(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&W(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=q(o,t,e,n.positionFixed),a=k(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),W(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ee=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=E({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=E({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return E({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return _(e,[{key:"update",value:function(){return R.call(this)}},{key:"destroy",value:function(){return Q.call(this)}},{key:"enableEventListeners",value:function(){return U.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();ee.Utils=("undefined"!=typeof window?window:e).PopperUtils,ee.placements=K,ee.Defaults=Z,t.a=ee}).call(this,n(27))},2529:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(1)),o=i(n(2530));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},2530:function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=(a(r),a(n(0))),i=a(n(683));a(n(2169));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=1073741823;t.default=function(e,t){var n,a,f="__create-react-context-"+(0,i.default)()+"__",d=function(e){function n(){var t,r,o,i;s(this,n);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return t=r=l(this,e.call.apply(e,[this].concat(u))),r.emitter=(o=r.props.value,i=[],{on:function(e){i.push(e)},off:function(e){i=i.filter((function(t){return t!==e}))},get:function(){return o},set:function(e,t){o=e,i.forEach((function(e){return e(o,t)}))}}),l(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)?o=0:(o="function"==typeof t?t(n,r):c,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);d.childContextTypes=((n={})[f]=o.default.object.isRequired,n);var p=function(t){function n(){var e,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=l(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},l(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?c:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?c:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((a={})[f]=o.default.object,a),{Provider:d,Consumer:p}},e.exports=t.default},2531:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=t.displayName,r=t.propTypes,i=t.defaultProps,a=t.allowFallback,s=void 0!==a&&a,l=function(t,n){return e(t,n)};return Object.assign(l,{displayName:n}),o.default.forwardRef||!s?Object.assign(o.default.forwardRef(l),{propTypes:r,defaultProps:i}):Object.assign((function(e){return l(e,null)}),{displayName:n,propTypes:r,defaultProps:i})};var r,o=(r=n(1))&&r.__esModule?r:{default:r}},2532:function(e,t,n){"use strict";var r=n(12),o=n(2165);t.__esModule=!0,t.default=void 0;var i,a=r(n(183)),s=r(n(239)),l=r(n(184)),u=r(n(40)),c=r(n(1)),f=r(n(0)),d=o(n(2533)),p=r(n(2535)),h=r(n(2536)),m={in:f.default.bool,mountOnEnter:f.default.bool,unmountOnExit:f.default.bool,appear:f.default.bool,timeout:f.default.number,onEnter:f.default.func,onEntering:f.default.func,onEntered:f.default.func,onExit:f.default.func,onExiting:f.default.func,onExited:f.default.func},v=((i={})[d.ENTERING]="show",i[d.ENTERED]="show",i),b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(e){(0,h.default)(e),t.props.onEnter&&t.props.onEnter(e)},t}return(0,l.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=(0,s.default)(e,["className","children"]);return c.default.createElement(d.default,(0,a.default)({addEndListener:p.default},r,{onEnter:this.handleEnter}),(function(e,r){return c.default.cloneElement(n,(0,a.default)({},r,{className:(0,u.default)("fade",t,n.props.className,v[e])}))}))},t}(c.default.Component);b.propTypes=m,b.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1};var y=b;t.default=y,e.exports=t.default},2533:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(1)),i=s(n(17)),a=n(240);n(2534);function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var u="exited";t.EXITED=u;var c="entering";t.ENTERING=c;var f="entered";t.ENTERED=f;t.EXITING="exiting";var d=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var o,i=n.transitionGroup,a=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=u,r.appearStatus=c):o=f:o=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:o},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==f&&(t=c):n!==c&&n!==f||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||r?(this.props.onEnter(e,o),this.safeSetState({status:c},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},r}(o.default.Component);function p(){}d.contextTypes={transitionGroup:r.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var h=(0,a.polyfill)(d);t.default=h},2534:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(0))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},2535:function(e,t,n){"use strict";var r=n(12);t.__esModule=!0,t.default=void 0;var o=r(n(250)),i=r(n(249));function a(e,t,n){var r,i={target:e,currentTarget:e};function a(e){e.target===e.currentTarget&&(clearTimeout(r),e.target.removeEventListener(o.default.end,a),t.call(this))}o.default.end?null==n&&(n=l(e)||0):n=0,o.default.end?(e.addEventListener(o.default.end,a,!1),r=setTimeout((function(){return a(i)}),1.5*(n||100))):setTimeout(a.bind(null,i),0)}a._parseDuration=l;var s=a;function l(e){var t=(0,i.default)(e,o.default.duration),n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}t.default=s,e.exports=t.default},2536:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.offsetHeight},e.exports=t.default},2537:function(e,t,n){"use strict";var r=n(12);t.__esModule=!0,t.default=void 0;var o=r(n(183)),i=r(n(239)),a=r(n(40)),s=r(n(1)),l=r(n(0)),u=r(n(2538)),c=n(2539),f={bsPrefix:l.default.string,id:(0,u.default)(l.default.oneOfType([l.default.string,l.default.number])),placement:l.default.oneOf(["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"]),arrowProps:l.default.shape({ref:l.default.any,style:l.default.object}),innerRef:l.default.any,scheduleUpdate:l.default.func,outOfBoundaries:l.default.func,title:l.default.node};function d(e){var t=e.bsPrefix,n=e.innerRef,r=e.placement,l=e.className,u=e.style,c=e.title,f=e.children,d=e.arrowProps,p=(e.scheduleUpdate,e.outOfBoundaries,(0,i.default)(e,["bsPrefix","innerRef","placement","className","style","title","children","arrowProps","scheduleUpdate","outOfBoundaries"]));return s.default.createElement("div",(0,o.default)({role:"tooltip",ref:n,style:u,"x-placement":r,className:(0,a.default)(l,t,"bs-popover-"+r)},p),s.default.createElement("div",(0,o.default)({className:"arrow"},d)),c&&s.default.createElement("div",{className:t+"-header h3"},c),s.default.createElement("div",{className:t+"-body"},f))}d.propTypes=f,d.defaultProps={placement:"right"};var p=(0,c.createBootstrapComponent)(d,"popover");t.default=p,e.exports=t.default},2538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,o,i){var a=r||"<<anonymous>>",s=i||n;if(null==t[n])return new Error("The "+o+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return e.apply(void 0,[t,n,r,o,i].concat(u))}},e.exports=t.default},2539:function(e,t,n){"use strict";var r=n(12);t.__esModule=!0,t.createBootstrapComponent=function(e,t){"string"==typeof t&&(t={prefix:t});var n=e.prototype&&e.prototype.isReactComponent,r=t,a=r.prefix,s=r.forwardRefAs,u=void 0===s?n?"ref":"innerRef":s,c=e.displayName||e.name;function d(t,n){var r=t.bsPrefix,s=(0,i.default)(t,["bsPrefix"]);return s[u]=n,l.default.createElement(f,null,(function(t){return l.default.createElement(e,(0,o.default)({},s,{bsPrefix:r||t.get(a)||a}))}))}return d.displayName="Bootstrap("+c+")",l.default.forwardRef(d)},t.default=t.ThemeConsumer=void 0;var o=r(n(183)),i=r(n(239)),a=r(n(184)),s=r(n(0)),l=r(n(1)),u=l.default.createContext(new Map),c=u.Provider,f=u.Consumer;t.ThemeConsumer=f;var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).prefixes=new Map,Object.entries(t.props.prefixes).forEach((function(e){var n=e[0],r=e[1];t.prefixes.set(n,r)})),t}return(0,a.default)(t,e),t.prototype.render=function(){return l.default.createElement(c,{value:this.prefixes},this.props.children)},t}(l.default.Component);d.propTypes={prefixes:s.default.object.isRequired};var p=d;t.default=p},2540:function(e,t,n){e.exports={"image-atom-content":"index--image-atom-content--YoZVu",fullscreen:"index--fullscreen--3cwI1","image-and-annotations-container":"index--image-and-annotations-container--1o6QP",fadeIn:"index--fadeIn--2CbaB",caption:"index--caption--34paT",image:"index--image--1wh9w","_image-atom-annotation":"index--_image-atom-annotation--23dJ8",box:"index--box--2Q9pT","image-and-annotations-container-wide":"index--image-and-annotations-container-wide--1RDiM"}},2541:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(0)),i=a(n(642));function a(e){return e&&e.__esModule?e:{default:e}}var s,l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=(l=s=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),u(n,[{key:"render",value:function(){return e.createElement(i.default,this.props)}}]),n}(e.Component),s.propTypes={youtubeId:o.default.string.isRequired,chinaCdnId:o.default.string,topherId:o.default.string,isAlternativePlayer:o.default.bool,onEnd:o.default.func,onVideoSeen:o.default.func,localeFileContext:o.default.array,options:o.default.object,isPlaying:o.default.bool,aspectRatio:o.default.oneOf(["16x9","4x3"]),transcodings:o.default.object,countryCode:o.default.string},l);t.default=c}).call(this,n(1))},2569:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=l(n(1)),i=l(n(0)),a=l(n(7)),s=l(n(2570));function l(e){return e&&e.__esModule?e:{default:e}}var u,c,f,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}var h=(0,a.default)(s.default)((f=c=function(t){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=p(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={addingFile:!1,renamingFile:""},r.handleCancelFilename=function(e){var t=r.state,n=t.renamingFile,o=t.addingFile;(n||o)&&27===e.keyCode&&r.setState({renamingFile:"",addingFile:!1})},r.handleAddingFile=function(e){e.preventDefault(),r.setState({renamingFile:"",addingFile:!0})},r.addFile=function(e){var t=r.props.onAdd,n=r.refs.filename.value;e.preventDefault(),n&&(t(n),r.refs.filename.value="",r.setState({addingFile:!1}))},r.handleRenamingFile=function(e,t){e.preventDefault(),r.setState({renamingFile:t+"",addingFile:!1})},r.renamingFile=function(e){e.preventDefault();var t=r.props.onRename,n=r.state.renamingFile,o=r.refs.filename.value;o&&(t(n,o),r.refs.filename.value="",r.setState({renamingFile:""}))},p(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),d(n,[{key:"render",value:function(){var t=this,n=this.props,r=n.files,i=n.onSelect,a=n.selectedFile,s=n.onDelete,l=n.onAdd,u=this.state,c=u.addingFile,f=u.renamingFile,d=r[a]?r[a].name:"";return o.default.createElement("div",{styleName:"files-selector",onKeyUp:this.handleCancelFilename},o.default.createElement("h5",{id:"file-select-description","aria-live":"assertive"},d," Currently Selected"),l?o.default.createElement("div",{styleName:"add-file"},c||f?o.default.createElement("form",{method:"post",action:"#",onSubmit:c?this.addFile:this.renamingFile},o.default.createElement("label",{htmlFor:"filename"},"Filename:")," ",o.default.createElement("input",{id:"filename",ref:"filename",type:"text",placeholder:"yourfile.js",onBlur:c?this.addFile:this.renamingFile,defaultValue:f?r[f].name:null})):o.default.createElement("a",{href:"#",onClick:this.handleAddingFile,title:"Add File"},o.default.createElement("span",null,"Add File"))):null,o.default.createElement("ul",{"aria-describedby":"file-select-description"},e.map(r,(function(e,n){return o.default.createElement("li",{key:n,styleName:a===n?"file-selected":"file-tab",role:"tab","aria-selected":a===n},o.default.createElement("a",{href:"#",onClick:function(e){return i(e,n)},onDoubleClick:function(e){return t.handleRenamingFile(e,n)}},e.name,a===n?o.default.createElement("span",null,"Currently Selected"):null)," ",s?o.default.createElement("a",{href:"#",onClick:function(t){return s(t,e)},title:"Delete File",styleName:"delete"},o.default.createElement("span",null,"Delete File")):null)}))))}}]),n}(o.default.Component),c.displayName="ureact-code-editor.files-selector",c.propTypes={files:i.default.array,onSelect:i.default.func,selectedFile:i.default.number,onRename:i.default.func,onDelete:i.default.func,onAdd:i.default.func},c.defaultProps={files:[],onSelect:e.noop,selectedFile:0,onRename:e.noop,onDelete:!1,onAdd:!1},u=f))||u;t.default=h}).call(this,n(4))},2570:function(e,t,n){e.exports={"files-selector":"files-selector--files-selector--3AJKp","file-tab":"files-selector--file-tab--197zT","file-selected":"files-selector--file-selected--DgguB",delete:"files-selector--delete--3Kehu","add-file":"files-selector--add-file--2MwrC"}},2571:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=u(n(1)),i=u(n(0)),a=u(n(2171)),s=u(n(7)),l=u(n(2572));function u(e){return e&&e.__esModule?e:{default:e}}var c,f,d,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}var v=(0,s.default)(l.default)((d=f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleA11yFileChange=function(e){r.handleFileChange(e.target.value)},r.handleFileChange=function(e){(0,r.props.handleFileChange)(e)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.file,i=t.name,s=t.readOnly,l=t.AceEditor,u=t.ace,c=r?r.name:"",f=r?r.text:"";return o.default.createElement("div",null,o.default.createElement("textarea",{onChange:this.handleA11yFileChange,styleName:"a11yEditor",title:"Simplified code editor",value:f,ref:function(t){e.a11yEditor=t}}),o.default.createElement("div",{"aria-hidden":!0,role:"presentation",tabIndex:"-1","aria-label":"Advanced code editor.  Click ESC to revert to the simplified editor."},o.default.createElement(l,p({ref:function(t){e.aceEditor=t},value:f,onChange:this.handleFileChange,onLoad:function(e){e.gotoLine(0,0)},mode:a.default.getMode(c),theme:"textmate",width:"100%",fontSize:14,name:n||i,showPrintMargin:!1,readOnly:s,commands:[{exec:function(){e.a11yEditor.focus()},bindKey:{mac:"Esc",win:"Esc"}}]},u||{}))))}}]),t}(o.default.Component),f.displayName="code-editor",f.propTypes={file:i.default.shape({text:i.default.string.isRequired,name:i.default.name}),handleFileChange:i.default.func,id:i.default.string,name:i.default.string.isRequired,readOnly:i.default.bool,ace:i.default.object,AceEditor:i.default.func.isRequired},f.defaultProps={file:{},handleFileChange:e.noop,id:null,readOnly:!1},c=d))||c;t.default=v}).call(this,n(4))},2572:function(e,t,n){e.exports={a11yEditor:"code-editor--a11yEditor--3_Beu"}},2573:function(e,t,n){e.exports={"code-editor":"ureact-code-editor--code-editor--kWVV9",editor:"ureact-code-editor--editor--3JsHF"}},2585:function(e,t){!function(){var e,t=window.jQuery,n="mathquill-block-id",r=Math.min,o=Math.max;function i(){}var a=[].slice;function s(e){var t=e.length-1;return function(){var n=a.call(arguments,0,t),r=a.call(arguments,t);return e.apply(this,n.concat([r]))}}var l=s((function(e,t){return s((function(n,r){if(e in n)return n[e].apply(n,t.concat(r))}))}));function u(e){return s((function(t,n){"function"!=typeof t&&(t=l(t));return e.call(this,(function(e){return t.apply(e,[e].concat(n))}))}))}function c(e){var t=a.call(arguments,1);return function(){return e.apply(this,t)}}function f(e,t){if(!t)throw new Error("prayer failed: "+e)}var d=function(e,t,n){function r(e){return"object"==typeof e}function o(e){return"function"==typeof e}function i(){}return function e(n,a){function s(){var e=new l;return o(e.init)&&e.init.apply(e,arguments),e}function l(){}void 0===a&&(a=n,n=Object),s.Bare=l;var u,c=i.prototype=n.prototype,f=l.prototype=s.prototype=s.p=new i;return f.constructor=s,s.extend=function(t){return e(s,t)},(s.open=function(e){if(u={},o(e)?u=e.call(s,f,c,s,n):r(e)&&(u=e),r(u))for(var i in u)t.call(u,i)&&(f[i]=u[i]);return o(f.init)||(f.init=n),s})(a)}}(0,{}.hasOwnProperty),p=-1,h=1;function m(e){f("a direction was passed",e===p||e===h)}var v=d(t,(function(e){e.insDirOf=function(e,t){return e===p?this.insertBefore(t.first()):this.insertAfter(t.last())},e.insAtDirEnd=function(e,t){return e===p?this.prependTo(t):this.appendTo(t)}})),b=d((function(e){e.parent=0,e[p]=0,e[h]=0,e.init=function(e,t,n){this.parent=e,this[p]=t,this[h]=n},this.copy=function(e){return b(e.parent,e[p],e[h])}})),y=d((function(e){e[p]=0,e[h]=0,e.parent=0;var t=0;this.byId={},e.init=function(){this.id=t+=1,y.byId[this.id]=this,this.ends={},this.ends[p]=0,this.ends[h]=0},e.dispose=function(){delete y.byId[this.id]},e.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},e.jQ=v(),e.jQadd=function(e){return this.jQ=this.jQ.add(e)},e.jQize=function(e){e=v(e||this.html());function t(e){if(e.getAttribute){var n=e.getAttribute("mathquill-command-id"),r=e.getAttribute("mathquill-block-id");n&&y.byId[n].jQadd(e),r&&y.byId[r].jQadd(e)}for(e=e.firstChild;e;e=e.nextSibling)t(e)}for(var n=0;n<e.length;n+=1)t(e[n]);return e},e.createDir=function(e,t){m(e);return this.jQize(),this.jQ.insDirOf(e,t.jQ),t[e]=this.adopt(t.parent,t[p],t[h]),this},e.createLeftOf=function(e){return this.createDir(p,e)},e.selectChildren=function(e,t){return x(e,t)},e.bubble=u((function(e){for(var t=this;t;t=t.parent){if(!1===e(t))break}return this})),e.postOrder=u((function(e){return function t(n){n.eachChild(t),e(n)}(this),this})),e.isEmpty=function(){return 0===this.ends[p]&&0===this.ends[h]},e.children=function(){return w(this.ends[p],this.ends[h])},e.eachChild=function(){var e=this.children();return e.each.apply(e,arguments),this},e.foldChildren=function(e,t){return this.children().fold(e,t)},e.withDirAdopt=function(e,t,n,r){return w(this,this).withDirAdopt(e,t,n,r),this},e.adopt=function(e,t,n){return w(this,this).adopt(e,t,n),this},e.disown=function(){return w(this,this).disown(),this},e.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}}));function g(e,t,n){f("a parent is always present",e),f("leftward is properly set up",t?t[h]===n&&t.parent===e:e.ends[p]===n),f("rightward is properly set up",n?n[p]===t&&n.parent===e:e.ends[h]===t)}var w=d((function(t){t.init=function(t,n,r){if(r===e&&(r=p),m(r),f("no half-empty fragments",!t==!n),this.ends={},t){f("withDir is passed to Fragment",t instanceof y),f("oppDir is passed to Fragment",n instanceof y),f("withDir and oppDir have the same parent",t.parent===n.parent),this.ends[r]=t,this.ends[-r]=n;var o=this.fold([],(function(e,t){return e.push.apply(e,t.jQ.get()),e}));this.jQ=this.jQ.add(o)}},t.jQ=v(),t.withDirAdopt=function(e,t,n,r){return e===p?this.adopt(t,n,r):this.adopt(t,r,n)},t.adopt=function(e,t,n){g(e,t,n);this.disowned=!1;var r=this.ends[p];if(!r)return this;var o=this.ends[h];return t||(e.ends[p]=r),n?n[p]=o:e.ends[h]=o,this.ends[h][h]=n,this.each((function(n){n[p]=t,n.parent=e,t&&(t[h]=n),t=n})),this},t.disown=function(){var e=this.ends[p];if(!e||this.disowned)return this;this.disowned=!0;var t=this.ends[h],n=e.parent;return g(n,e[p],e),g(n,t,t[h]),e[p]?e[p][h]=t[h]:n.ends[p]=t[h],t[h]?t[h][p]=e[p]:n.ends[h]=e[p],this},t.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},t.each=u((function(e){var t=this.ends[p];if(!t)return this;for(;t!==this.ends[h][h];t=t[h]){if(!1===e(t))break}return this})),t.fold=function(e,t){return this.each((function(n){e=t.call(this,e,n)})),e}})),_={},O={},E=d(b,(function(e){e.init=function(e,t){this.parent=e,this.options=t;var n=this.jQ=this._jQ=v('<span class="mq-cursor">&#8203;</span>');this.blink=function(){n.toggleClass("mq-blink")},this.upDownCache={}},e.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[h]?this.selection&&this.selection.ends[p][p]===this[p]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[h].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},e.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=v(),this},e.withDirInsertAt=function(e,t,n,r){var o=this.parent;this.parent=t,this[e]=n,this[-e]=r,o!==t&&o.blur&&o.blur(this)},e.insDirOf=function(e,t){return m(e),this.jQ.insDirOf(e,t.jQ),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.jQ.addClass("mq-hasCursor"),this},e.insLeftOf=function(e){return this.insDirOf(p,e)},e.insRightOf=function(e){return this.insDirOf(h,e)},e.insAtDirEnd=function(e,t){return m(e),this.jQ.insAtDirEnd(e,t.jQ),this.withDirInsertAt(e,t,0,t.ends[e]),t.focus(),this},e.insAtLeftEnd=function(e){return this.insAtDirEnd(p,e)},e.insAtRightEnd=function(e){return this.insAtDirEnd(h,e)},e.jumpUpDown=function(e,t){this.upDownCache[e.id]=b.copy(this);var n=this.upDownCache[t.id];if(n)n[h]?this.insLeftOf(n[h]):this.insAtRightEnd(n.parent);else{var r=this.offset().left;t.seek(r,this)}},e.offset=function(){var e=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),e},e.unwrapGramp=function(){var e=this.parent.parent,t=e.parent,n=e[h],r=e[p];if(e.disown().eachChild((function(o){o.isEmpty()||(o.children().adopt(t,r,n).each((function(t){t.jQ.insertBefore(e.jQ.first())})),r=o.ends[h])})),!this[h])if(this[p])this[h]=this[p][h];else for(;!this[h];){if(this.parent=this.parent[h],!this.parent){this[h]=e[h],this.parent=t;break}this[h]=this.parent.ends[p]}this[h]?this.insLeftOf(this[h]):this.insAtRightEnd(t),e.jQ.remove(),e[p].siblingDeleted&&e[p].siblingDeleted(this.options,h),e[h].siblingDeleted&&e[h].siblingDeleted(this.options,p)},e.startSelection=function(){for(var e=this.anticursor=b.copy(this),t=e.ancestors={},n=e;n.parent;n=n.parent)t[n.parent.id]=n},e.endSelection=function(){delete this.anticursor},e.select=function(){var e=this.anticursor;if(this[p]===e[p]&&this.parent===e.parent)return!1;for(var t=this;t.parent;t=t.parent)if(t.parent.id in e.ancestors){var n=t.parent;break}f("cursor and anticursor in the same tree",n);var r,o,i=e.ancestors[n.id],a=h;if(t[p]!==i)for(var s=t;s;s=s[h])if(s[h]===i[h]){a=p,r=t,o=i;break}return a===h&&(r=i,o=t),r instanceof b&&(r=r[h]),o instanceof b&&(o=o[p]),this.hide().selection=n.selectChildren(r,o),this.insDirOf(a,this.selection.ends[a]),this.selectionChanged(),!0},e.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},e.deleteSelection=function(){this.selection&&(this[p]=this.selection.ends[p][p],this[h]=this.selection.ends[h][h],this.selection.remove(),this.selectionChanged(),delete this.selection)},e.replaceSelection=function(){var e=this.selection;return e&&(this[p]=e.ends[p][p],this[h]=e.ends[h][h],delete this.selection),e}})),x=d(w,(function(e,t){e.init=function(){t.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},e.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),t.adopt.apply(this,arguments)},e.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},e.join=function(e){return this.fold("",(function(t,n){return t+n[e]()}))}})),C=d((function(e){e.init=function(e,t,n){this.id=e.id,this.data={},this.root=e,this.container=t,this.options=n,e.controller=this,this.cursor=e.cursor=E(e,n)},e.handle=function(e,t){var n=this.options.handlers;if(n&&n.fns[e]){var r=n.APIClasses[this.KIND_OF_MQ](this);t===p||t===h?n.fns[e](t,r):n.fns[e](r)}};var t=[];this.onNotify=function(e){t.push(e)},e.notify=function(){for(var e=0;e<t.length;e+=1)t[e].apply(this.cursor,arguments);return this}})),S={},T=d(),j={},k=d(),q={};function L(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function P(e){return L(),Me(e)}P.prototype=k.p,P.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return(L=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),P},P.getInterface=D;var A=D.MIN=1,M=D.MAX=2;function D(e){if(!(A<=e&&e<=M))throw"Only interface versions between "+A+" and "+M+" supported. You specified: "+e;function r(e){if(!e||!e.nodeType)return null;var t=v(e).children(".mq-root-block").attr(n),r=t&&y.byId[t].controller;return r?o[r.KIND_OF_MQ](r):null}var o={};function a(e,t){for(var n in t&&t.handlers&&(t.handlers={fns:t.handlers,APIClasses:o}),t)if(t.hasOwnProperty(n)){var r=t[n],i=j[n];e[n]=i?i(r):r}}r.L=p,r.R=h,r.config=function(e){return a(T.p,e),this},r.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";q[e]=t};var s=o.AbstractMathQuill=d(k,(function(e){e.init=function(e){this.__controller=e,this.__options=e.options,this.id=e.id,this.data=e.data},e.__mathquillify=function(e){var t=this.__controller,r=t.root,o=t.container;t.createTextarea();var i=o.addClass(e).contents().detach();r.jQ=v('<span class="mq-root-block"/>').attr(n,r.id).appendTo(o),this.latex(i.text()),this.revert=function(){return o.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(i)}},e.config=function(e){return a(this.__options,e),this},e.el=function(){return this.__controller.container[0]},e.text=function(){return this.__controller.exportText()},e.latex=function(e){return arguments.length>0?(this.__controller.renderLatexMath(e),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},e.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},e.reflow=function(){return this.__controller.root.postOrder("reflow"),this}}));for(var l in r.prototype=s.prototype,o.EditableField=d(s,(function(e,n){e.__mathquillify=function(){return n.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},e.focus=function(){return this.__controller.textarea.focus(),this},e.blur=function(){return this.__controller.textarea.blur(),this},e.write=function(e){return this.__controller.writeLatex(e),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},e.cmd=function(e){var t=this.__controller.notify(),n=t.cursor;if(/^\\[a-z]+$/i.test(e)){e=e.slice(1);var r=_[e];r&&(e=r(e),n.selection&&e.replaces(n.replaceSelection()),e.createLeftOf(n.show()),this.__controller.scrollHoriz())}else n.parent.write(n,e);return t.blurred&&n.hide().parent.blur(),this},e.select=function(){var e=this.__controller;for(e.notify("move").cursor.insAtRightEnd(e.root);e.cursor[p];)e.selectLeft();return this},e.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},e.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},e.moveToLeftEnd=function(){return this.moveToDirEnd(p)},e.moveToRightEnd=function(){return this.moveToDirEnd(h)},e.keystroke=function(e){e=e.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var t=0;t<e.length;t+=1)this.__controller.keystroke(e[t],{preventDefault:i});return this},e.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},e.dropEmbedded=function(e,t,n){var r=e-v(window).scrollLeft(),o=t-v(window).scrollTop(),i=document.elementFromPoint(r,o);this.__controller.seek(v(i),e,t),Ae().setOptions(n).createLeftOf(this.__controller.cursor)},e.clickAt=function(e,n,r){r=r||document.elementFromPoint(e,n);var o=this.__controller,i=o.root;return t.contains(i.jQ[0],r)||(r=i.jQ[0]),o.seek(v(r),e+pageXOffset,n+pageYOffset),o.blurred&&this.focus(),this},e.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this}})),r.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},r.EditableField.prototype=o.EditableField.prototype,S)!function(t,n){var i=o[t]=n(o);r[t]=function(n,o){var a=r(n);if(a instanceof i||!n||!n.nodeType)return a;var s=C(i.RootBlock(),v(n),T());return s.KIND_OF_MQ=t,i(s).__mathquillify(o,e)},r[t].prototype=i.prototype}(l,S[l]);return r}P.noConflict=function(){return window.MathQuill=R,P};var R=window.MathQuill;function N(e){for(var t="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),n=0;n<t.length;n+=1)!function(t){e[t]=function(e){this.controller.handle(t,e)}}(t[n]);e.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}window.MathQuill=P;var I,Q=d((function(e,t,n){function r(e,t){throw"Parse Error: "+t+" at "+(e=e?"'"+e+"'":"EOF")}e.init=function(e){this._=e},e.parse=function(e){return this.skip(a)._(""+e,(function(e,t){return t}),r)},e.or=function(e){f("or is passed a parser",e instanceof n);var t=this;return n((function(n,r,o){return t._(n,r,(function(t){return e._(n,r,o)}))}))},e.then=function(e){var t=this;return n((function(r,o,i){return t._(r,(function(t,r){var a=e instanceof n?e:e(r);return f("a parser is returned",a instanceof n),a._(t,o,i)}),i)}))},e.many=function(){var e=this;return n((function(t,n,r){for(var o=[];e._(t,i,a););return n(t,o);function i(e,n){return t=e,o.push(n),!0}function a(){return!1}}))},e.times=function(e,t){arguments.length<2&&(t=e);var r=this;return n((function(n,o,i){for(var a,s=[],l=!0,u=0;u<e;u+=1)if(!(l=r._(n,c,f)))return i(n,a);for(;u<t&&l;u+=1)l=r._(n,c,d);return o(n,s);function c(e,t){return s.push(t),n=e,!0}function f(e,t){return a=t,n=e,!1}function d(e,t){return!1}}))},e.result=function(e){return this.then(i(e))},e.atMost=function(e){return this.times(0,e)},e.atLeast=function(e){var t=this;return t.times(e).then((function(e){return t.many().map((function(t){return e.concat(t)}))}))},e.map=function(e){return this.then((function(t){return i(e(t))}))},e.skip=function(e){return this.then((function(t){return e.result(t)}))};this.string=function(e){var t=e.length,r="expected '"+e+"'";return n((function(n,o,i){var a=n.slice(0,t);return a===e?o(n.slice(t),a):i(n,r)}))};var o=this.regex=function(e){f("regexp parser is anchored","^"===e.toString().charAt(1));var t="expected "+e;return n((function(n,r,o){var i=e.exec(n);if(i){var a=i[0];return r(n.slice(a.length),a)}return o(n,t)}))},i=n.succeed=function(e){return n((function(t,n){return n(t,e)}))},a=(n.fail=function(e){return n((function(t,n,r){return r(t,e)}))},n.letter=o(/^[a-z]/i),n.letters=o(/^[a-z]*/i),n.digit=o(/^[0-9]/),n.digits=o(/^[0-9]*/),n.whitespace=o(/^\s+/),n.optWhitespace=o(/^\s*/),n.any=n((function(e,t,n){return e?t(e.slice(1),e.charAt(0)):n(e,"expected any character")})),n.all=n((function(e,t,n){return t("",e)})),n.eof=n((function(e,t,n){return e?n(e,"expected EOF"):t(e,e)})))})),F=(I={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},function(e,n){var r,o=null,a=null,s=t(e),l=t(n.container||s),u=i;function c(e){u=e,clearTimeout(r),r=setTimeout(e)}l.bind("keydown keypress input keyup focusout paste",(function(e){u(e)}));var f=!1;function d(){n.keystroke(function(e){var t,n=e.which||e.keyCode,r=I[n],o=[];return e.ctrlKey&&o.push("Ctrl"),e.originalEvent&&e.originalEvent.metaKey&&o.push("Meta"),e.altKey&&o.push("Alt"),e.shiftKey&&o.push("Shift"),t=r||String.fromCharCode(n),o.length||r?(o.push(t),o.join("-")):t}(o),o)}function p(){if(!("selectionStart"in(e=s[0])&&e.selectionStart!==e.selectionEnd)){var e,t=s.val();1===t.length?(s.val(""),n.typedText(t)):t&&s[0].select&&s[0].select()}}function h(){var e=s.val();s.val(""),e&&n.paste(e)}return l.bind({keydown:function(e){o=e,a=null,f&&c((function(e){e&&"focusout"===e.type||!s[0].select||s[0].select(),u=i,clearTimeout(r)})),d()},keypress:function(e){o&&a&&d(),a=e,c(p)},focusout:function(){o=a=null},paste:function(e){s.focus(),c(h)}}),{select:function(e){u(),u=i,clearTimeout(r),s.val(e),e&&s[0].select&&s[0].select(),f=!!e}}});C.open((function(e,t){e.exportText=function(){return this.root.foldChildren("",(function(e,t){return e+t.text()}))}})),C.open((function(e){e.focusBlurEvents=function(){var e,t=this,n=t.root,r=t.cursor;function o(){clearTimeout(e),r.selection&&r.selection.jQ.addClass("mq-blur"),i()}function i(){r.hide().parent.blur(),t.container.removeClass("mq-focused"),v(window).off("blur",o)}t.textarea.focus((function(){t.blurred=!1,clearTimeout(e),t.container.addClass("mq-focused"),r.parent||r.insAtRightEnd(n),r.selection?(r.selection.jQ.removeClass("mq-blur"),t.selectionChanged()):r.show()})).blur((function(){t.blurred=!0,e=setTimeout((function(){n.postOrder("intentionalBlur"),r.clearSelection().endSelection(),i()})),v(window).on("blur",o)})),t.blurred=!0,r.hide().parent.blur()}})),C.open((function(e){e.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this)}})),y.open((function(e){e.keystroke=function(e,t,n){var r=n.cursor;switch(e){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(p);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(h,e,t);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(p,e,t);case"End":n.notify("move").cursor.insAtRightEnd(r.parent);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root);break;case"Shift-End":for(;r[h];)n.selectRight();break;case"Ctrl-Shift-End":for(;r[h]||r.parent!==n.root;)n.selectRight();break;case"Home":n.notify("move").cursor.insAtLeftEnd(r.parent);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root);break;case"Shift-Home":for(;r[p];)n.selectLeft();break;case"Ctrl-Shift-Home":for(;r[p]||r.parent!==n.root;)n.selectLeft();break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":if(r[p])for(;r[p];)n.selectLeft();else n.selectLeft();case"Shift-Down":if(r[h])for(;r[h];)n.selectRight();else n.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(h);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":for(n.notify("move").cursor.insAtRightEnd(n.root);r[p];)n.selectLeft();break;default:return}t.preventDefault(),n.scrollHoriz()},e.moveOutOf=e.moveTowards=e.deleteOutOf=e.deleteTowards=e.unselectInto=e.selectOutOf=e.selectTowards=function(){f("overridden or never called on this node")}})),C.open((function(e){function t(e,t){var n=e.notify("upDown").cursor,r=t+"Into",o=t+"OutOf";return n[h][r]?n.insAtLeftEnd(n[h][r]):n[p][r]?n.insAtRightEnd(n[p][r]):n.parent.bubble((function(e){var t=e[o];if(t&&("function"==typeof t&&(t=e[o](n)),t instanceof y&&n.jumpUpDown(e,t),!0!==t))return!1})),e}this.onNotify((function(e){"move"!==e&&"upDown"!==e||this.show().clearSelection()})),e.escapeDir=function(e,t,n){m(e);var r=this.cursor;if(r.parent!==this.root&&n.preventDefault(),r.parent!==this.root)return r.parent.moveOutOf(e,r),this.notify("move")},j.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},e.moveDir=function(e){m(e);var t=this.cursor,n=t.options.leftRightIntoCmdGoes;return t.selection?t.insDirOf(e,t.selection.ends[e]):t[e]?t[e].moveTowards(e,t,n):t.parent.moveOutOf(e,t,n),this.notify("move")},e.moveLeft=function(){return this.moveDir(p)},e.moveRight=function(){return this.moveDir(h)},e.moveUp=function(){return t(this,"up")},e.moveDown=function(){return t(this,"down")},this.onNotify((function(e){"upDown"!==e&&(this.upDownCache={})})),this.onNotify((function(e){"edit"===e&&this.show().deleteSelection()})),e.deleteDir=function(e){m(e);var t=this.cursor,n=t.selection;return this.notify("edit"),n||(t[e]?t[e].deleteTowards(e,t):t.parent.deleteOutOf(e,t)),t[p].siblingDeleted&&t[p].siblingDeleted(t.options,h),t[h].siblingDeleted&&t[h].siblingDeleted(t.options,p),t.parent.bubble("reflow"),this},e.ctrlDeleteDir=function(e){m(e);var t=this.cursor;return!t[p]||t.selection?ctrlr.deleteDir():(this.notify("edit"),w(t.parent.ends[p],t[p]).remove(),t.insAtDirEnd(p,t.parent),t[p].siblingDeleted&&t[p].siblingDeleted(t.options,h),t[h].siblingDeleted&&t[h].siblingDeleted(t.options,p),t.parent.bubble("reflow"),this)},e.backspace=function(){return this.deleteDir(p)},e.deleteForward=function(){return this.deleteDir(h)},this.onNotify((function(e){"select"!==e&&this.endSelection()})),e.selectDir=function(e){var t=this.notify("select").cursor,n=t.selection;m(e),t.anticursor||t.startSelection();var r=t[e];r?n&&n.ends[e]===r&&t.anticursor[-e]!==r?r.unselectInto(e,t):r.selectTowards(e,t):t.parent.selectOutOf(e,t),t.clearSelection(),t.select()||t.show()},e.selectLeft=function(){return this.selectDir(p)},e.selectRight=function(){return this.selectDir(h)}}));var B=function(){function e(e){for(var t=e[0]||$(),n=1;n<e.length;n+=1)e[n].children().adopt(t,t.ends[h],0);return t}var t=Q.string,n=Q.regex,r=Q.letter,o=Q.any,i=Q.optWhitespace,a=Q.succeed,s=Q.fail,l=r.map((function(e){return ne(e)})),u=n(/^[^${}\\_^]/).map((function(e){return W(e)})),c=n(/^[^\\a-eg-zA-Z]/).or(t("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(o))).then((function(e){var t=_[e];return t?t(e).parser():s("unknown command: \\"+e)})).or(l).or(u),f=t("{").then((function(){return p})).skip(t("}")),d=i.then(f.or(c.map((function(e){var t=$();return e.adopt(t,0,0),t})))),p=d.many().map(e).skip(i),m=t("[").then(d.then((function(e){return"]"!==e.join("latex")?a(e):s()})).many().map(e).skip(i)).skip(t("]")),v=p;return v.block=d,v.optBlock=m,v}();C.open((function(e,t){e.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},e.writeLatex=function(e){var t=this.notify("edit").cursor,n=Q.all,r=Q.eof,o=B.skip(r).or(n.result(!1)).parse(e);o&&!o.isEmpty()&&(o.children().adopt(t.parent,t[p],t[h]),o.jQize().insertBefore(t.jQ),t[p]=o.ends[h],o.finalizeInsert(t.options,t),o.ends[h][h].siblingCreated&&o.ends[h][h].siblingCreated(t.options,p),o.ends[p][p].siblingCreated&&o.ends[p][p].siblingCreated(t.options,h),t.parent.bubble("reflow"));return this},e.renderLatexMath=function(e){var t=this.root,n=this.cursor,r=Q.all,o=Q.eof,i=B.skip(o).or(r.result(!1)).parse(e);t.eachChild("postOrder","dispose"),t.ends[p]=t.ends[h]=0,i&&i.children().adopt(t,0,0);var a=t.jQ;if(i){var s=i.join("html");a.html(s),t.jQize(a.children()),t.finalizeInsert(n.options)}else a.empty();delete n.selection,n.insAtRightEnd(t)},e.renderLatexText=function(e){var t=this.root,n=this.cursor;t.jQ.children().slice(1).remove(),t.eachChild("postOrder","dispose"),t.ends[p]=t.ends[h]=0,delete n.selection,n.show().insAtRightEnd(t);var r=Q.regex,o=Q.string,i=Q.eof,a=Q.all,s=o("$").then(B).skip(o("$").or(i)).map((function(e){var t=J(n);t.createBlocks();var r=t.ends[p];return e.children().adopt(r,0,0),t})),l=o("\\$").result("$").or(r(/^[^$]/)).map(W),u=s.or(l).many().skip(i).or(a.result(!1)).parse(e);if(u){for(var c=0;c<u.length;c+=1)u[c].adopt(t,t.ends[h],0);t.jQize().appendTo(t.jQ),t.finalizeInsert(n.options)}}})),C.open((function(t){T.p.ignoreNextMousedown=i,t.delegateMouseEvents=function(){var t=this.root.jQ;this.container.bind("mousedown.mathquill",(function(r){var o,a=v(r.target).closest(".mq-root-block"),s=y.byId[a.attr(n)||t.attr(n)].controller,l=s.cursor,u=l.blink,c=s.textareaSpan,f=s.textarea;(r.preventDefault(),r.target.unselectable=!0,l.options.ignoreNextMousedown(r))||(l.options.ignoreNextMousedown=i,s.blurred&&(s.editable||a.prepend(c),f.focus()),l.blink=i,s.seek(v(r.target),r.pageX,r.pageY).cursor.startSelection(),a.mousemove(d),v(r.target.ownerDocument).mousemove(p).mouseup((function e(t){l.blink=u,l.selection||(s.editable?l.show():c.detach()),a.unbind("mousemove",d),v(t.target.ownerDocument).unbind("mousemove",p).unbind("mouseup",e)})));function d(e){o=v(e.target)}function p(t){l.anticursor||l.startSelection(),s.seek(o,t.pageX,t.pageY).cursor.select(),o=e}}))}})),C.open((function(e){e.seek=function(e,t,r){var o=this.notify("select").cursor;if(e){var i=e.attr(n)||e.attr("mathquill-command-id");if(!i){var a=e.parent();i=a.attr(n)||a.attr("mathquill-command-id")}}var s=i?y.byId[i]:this.root;return f("nodeId is the id of some Node that exists",s),o.clearSelection().show(),s.seek(t,o),this.scrollHoriz(),this}})),C.open((function(e){e.scrollHoriz=function(){var e=this.cursor,t=e.selection,n=this.root.jQ[0].getBoundingClientRect();if(t){var r=t.jQ[0].getBoundingClientRect(),o=r.left-(n.left+20),i=r.right-(n.right-20);if(t.ends[p]===e[h])if(o<0)s=o;else{if(!(i>0))return;if(r.left-i<n.left+20)s=o;else s=i}else if(i>0)s=i;else{if(!(o<0))return;if(r.right-o>n.right-20)s=i;else s=o}}else{var a=e.jQ[0].getBoundingClientRect().left;if(a>n.right-20)var s=a-(n.right-20);else{if(!(a<n.left+20))return;var s=a-(n.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+s},100)}})),C.open((function(t){T.p.substituteTextarea=function(){return v("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},t.createTextarea=function(){var e=this.textareaSpan=v('<span class="mq-textarea"></span>'),t=this.options.substituteTextarea();if(!t.nodeType)throw"substituteTextarea() must return a DOM element, got "+t;t=this.textarea=v(t).appendTo(e);var n=this;n.cursor.selectionChanged=function(){n.selectionChanged()},n.container.bind("copy",(function(){n.setTextareaSelection()}))},t.selectionChanged=function(){var t=this;be(t.container[0]),t.textareaSelectionTimeout===e&&(t.textareaSelectionTimeout=setTimeout((function(){t.setTextareaSelection()})))},t.setTextareaSelection=function(){this.textareaSelectionTimeout=e;var t="";this.cursor.selection&&(t=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(t="$"+t+"$")),this.selectFn(t)},t.staticMathTextareaEvents=function(){var e=this,t=(e.root,e.cursor),n=e.textarea,r=e.textareaSpan;function o(){r.detach(),e.blurred=!0}this.container.prepend('<span class="mq-selectable">$'+e.exportLatex()+"$</span>"),e.blurred=!0,n.bind("cut paste",!1).focus((function(){e.blurred=!1})).blur((function(){t.selection&&t.selection.clear(),setTimeout(o)})),e.selectFn=function(e){n.val(e),e&&n.select()}},t.editablesTextareaEvents=function(){var e=this,t=(e.root,e.cursor),n=e.textarea,r=e.textareaSpan,o=F(n,this);this.selectFn=function(e){o.select(e)},this.container.prepend(r).on("cut",(function(n){t.selection&&setTimeout((function(){e.notify("edit"),t.parent.bubble("reflow")}))})),this.focusBlurEvents()},t.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify().cursor;t.parent.write(t,e),this.scrollHoriz()},t.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show()}}));var U=d(y,(function(e,t){e.finalizeInsert=function(e,t){this.postOrder("finalizeTree",e),this.postOrder("contactWeld",t),this.postOrder("blur"),this.postOrder("reflow"),this[h].siblingCreated&&this[h].siblingCreated(e,p),this[p].siblingCreated&&this[p].siblingCreated(e,h),this.bubble("reflow")}})),z=d(U,(function(e,t){e.init=function(e,n,r){t.init.call(this),this.ctrlSeq||(this.ctrlSeq=e),n&&(this.htmlTemplate=n),r&&(this.textTemplate=r)},e.replaces=function(e){e.disown(),this.replacedFragment=e},e.isEmpty=function(){return this.foldChildren(!0,(function(e,t){return e&&t.isEmpty()}))},e.parser=function(){var e=B.block,t=this;return e.times(t.numBlocks()).map((function(e){t.blocks=e;for(var n=0;n<e.length;n+=1)e[n].adopt(t,t.ends[h],0);return t}))},e.createLeftOf=function(e){var n=this.replacedFragment;this.createBlocks(),t.createLeftOf.call(this,e),n&&(n.adopt(this.ends[p],0,0),n.jQ.appendTo(this.ends[p].jQ)),this.finalizeInsert(e.options),this.placeCursor(e)},e.createBlocks=function(){for(var e=this.numBlocks(),t=this.blocks=Array(e),n=0;n<e;n+=1){(t[n]=$()).adopt(this,this.ends[h],0)}},e.placeCursor=function(e){e.insAtRightEnd(this.foldChildren(this.ends[p],(function(e,t){return e.isEmpty()?e:t})))},e.moveTowards=function(e,t,n){var r=n&&this[n+"Into"];t.insAtDirEnd(-e,r||this.ends[-e])},e.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t,null)},e.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},e.selectChildren=function(){return x(this,this)},e.unselectInto=function(e,t){t.insAtDirEnd(-e,t.anticursor.ancestors[this.id])},e.seek=function(e,t){function n(e){var t={};return t[p]=e.jQ.offset().left,t[h]=t[p]+e.jQ.outerWidth(),t}var r=this,o=n(r);if(e<o[p])return t.insLeftOf(r);if(e>o[h])return t.insRightOf(r);var i=o[p];r.eachChild((function(a){var s=n(a);return e<s[p]?(e-i<s[p]-e?a[p]?t.insAtRightEnd(a[p]):t.insLeftOf(r):t.insAtLeftEnd(a),!1):e>s[h]?void(a[h]?i=s[h]:o[h]-e<e-s[h]?t.insRightOf(r):t.insAtRightEnd(a)):(a.seek(e,t),!1)}))},e.numBlocks=function(){var e=this.htmlTemplate.match(/&\d+/g);return e?e.length:0},e.html=function(){var e=this.blocks,t=" mathquill-command-id="+this.id,n=this.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);f("no unmatched angle brackets",n.join("")===this.htmlTemplate);for(var r=0,o=n[0];o;o=n[r+=1])if("/>"===o.slice(-2))n[r]=o.slice(0,-2)+t+"/>";else if("<"===o.charAt(0)){f("not an unmatched top-level close tag","/"!==o.charAt(1)),n[r]=o.slice(0,-1)+t+">";var i=1;do{f("no missing close tags",o=n[r+=1]),"</"===o.slice(0,2)?i-=1:"<"===o.charAt(0)&&"/>"!==o.slice(-2)&&(i+=1)}while(i>0)}return n.join("").replace(/>&(\d+)/g,(function(t,n){return" mathquill-block-id="+e[n].id+">"+e[n].join("html")}))},e.latex=function(){return this.foldChildren(this.ctrlSeq,(function(e,t){return e+"{"+(t.latex()||" ")+"}"}))},e.textTemplate=[""],e.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],(function(n,r){t+=1;var o=r.text();return n&&"("===e.textTemplate[t]&&"("===o[0]&&")"===o.slice(-1)?n+o.slice(1,-1)+e.textTemplate[t]:n+r.text()+(e.textTemplate[t]||"")}))}})),H=d(z,(function(e,t){e.init=function(e,n,r){r||(r=e&&e.length>1?e.slice(1):e),t.init.call(this,e,n,[r])},e.parser=function(){return Q.succeed(this)},e.numBlocks=function(){return 0},e.replaces=function(e){e.remove()},e.createBlocks=i,e.moveTowards=function(e,t){t.jQ.insDirOf(e,this.jQ),t[-e]=this,t[e]=this[e]},e.deleteTowards=function(e,t){t[e]=this.remove()[e]},e.seek=function(e,t){e-this.jQ.offset().left<this.jQ.outerWidth()/2?t.insLeftOf(this):t.insRightOf(this)},e.latex=function(){return this.ctrlSeq},e.text=function(){return this.textTemplate},e.placeCursor=i,e.isEmpty=function(){return!0}})),W=d(H,(function(e,t){e.init=function(e,n){t.init.call(this,e,"<span>"+(n||e)+"</span>")}})),G=d(H,(function(e,t){e.init=function(e,n,r){t.init.call(this,e,'<span class="mq-binary-operator">'+n+"</span>",r)}})),$=d(U,(function(e,t){e.join=function(e){return this.foldChildren("",(function(t,n){return t+n[e]()}))},e.html=function(){return this.join("html")},e.latex=function(){return this.join("latex")},e.text=function(){return this.ends[p]===this.ends[h]&&0!==this.ends[p]?this.ends[p].text():this.join("text")},e.keystroke=function(e,n,r){return!r.options.spaceBehavesLikeTab||"Spacebar"!==e&&"Shift-Spacebar"!==e?t.keystroke.apply(this,arguments):(n.preventDefault(),void r.escapeDir("Shift-Spacebar"===e?p:h,e,n))},e.moveOutOf=function(e,t,n){!(n&&this.parent[n+"Into"])&&this[e]?t.insAtDirEnd(-e,this[e]):t.insDirOf(e,this.parent)},e.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},e.deleteOutOf=function(e,t){t.unwrapGramp()},e.seek=function(e,t){var n=this.ends[h];if(!n||n.jQ.offset().left+n.jQ.outerWidth()<e)return t.insAtRightEnd(this);if(e<this.ends[p].jQ.offset().left)return t.insAtLeftEnd(this);for(;e<n.jQ.offset().left;)n=n[p];return n.seek(e,t)},e.chToCmd=function(e){var t;return e.match(/^[a-eg-zA-Z]$/)?ne(e):/^\d$/.test(e)?ee(e):(t=O[e]||_[e])?t(e):W(e)},e.write=function(e,t){var n=this.chToCmd(t);e.selection&&n.replaces(e.replaceSelection()),n.createLeftOf(e.show())},e.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},e.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}}));S.StaticMath=function(e){return d(e.AbstractMathQuill,(function(t,n){this.RootBlock=$,t.__mathquillify=function(){return n.__mathquillify.call(this,"mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},t.init=function(){n.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],e.MathField)},t.latex=function(){var t=n.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],e.MathField),t}}))};var K=d($,N);S.MathField=function(e){return d(e.EditableField,(function(e,t){this.RootBlock=K,e.__mathquillify=function(e,n){return this.config(e),n>1&&(this.__controller.root.reflow=i),t.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}}))};var Y=d(y,(function(e,t){function n(e){e.jQ[0].normalize();var t=e.jQ[0].firstChild;if(t){f("only node in TextBlock span is Text node",3===t.nodeType);var n=V(t.data);return n.jQadd(t),e.children().disown(),n.adopt(e,0,0)}}e.ctrlSeq="\\text",e.replaces=function(e){e instanceof w?this.replacedText=e.remove().jQ.text():"string"==typeof e&&(this.replacedText=e)},e.jQadd=function(e){t.jQadd.call(this,e),this.ends[p]&&this.ends[p].jQadd(this.jQ[0].firstChild)},e.createLeftOf=function(e){if(t.createLeftOf.call(this,e),this[h].siblingCreated&&this[h].siblingCreated(e.options,p),this[p].siblingCreated&&this[p].siblingCreated(e.options,h),this.bubble("reflow"),e.insAtRightEnd(this),this.replacedText)for(var n=0;n<this.replacedText.length;n+=1)this.write(e,this.replacedText.charAt(n))},e.parser=function(){var e=this,t=Q.string,n=Q.regex;return Q.optWhitespace.then(t("{")).then(n(/^[^}]*/)).skip(t("}")).map((function(t){return 0===t.length?w():(V(t).adopt(e,0,0),e)}))},e.textContents=function(){return this.foldChildren("",(function(e,t){return e+t.text}))},e.text=function(){return'"'+this.textContents()+'"'},e.latex=function(){var e=this.textContents();return 0===e.length?"":"\\text{"+e+"}"},e.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},e.moveTowards=function(e,t){t.insAtDirEnd(-e,this)},e.moveOutOf=function(e,t){t.insDirOf(e,this)},e.unselectInto=e.moveTowards,e.selectTowards=z.prototype.selectTowards,e.deleteTowards=z.prototype.deleteTowards,e.selectOutOf=function(e,t){t.insDirOf(e,this)},e.deleteOutOf=function(e,t){this.isEmpty()&&t.insRightOf(this)},e.write=function(e,n){if(e.show().deleteSelection(),"$"!==n)e[p]?e[p].appendText(n):V(n).createLeftOf(e);else if(this.isEmpty())e.insRightOf(this),W("\\$","$").createLeftOf(e);else if(e[h])if(e[p]){var r=Y(),o=this.ends[p];o.disown().jQ.detach(),o.adopt(r,0,0),e.insLeftOf(this),t.createLeftOf.call(r,e)}else e.insLeftOf(this);else e.insRightOf(this)},e.seek=function(e,t){t.hide();var r=n(this),o=this.jQ.width()/this.text.length,i=Math.round((e-this.jQ.offset().left)/o);i<=0?t.insAtLeftEnd(this):i>=r.text.length?t.insAtRightEnd(this):t.insLeftOf(r.splitRight(i));for(var a=e-t.show().offset().left,s=a&&a<0?p:h,l=s;t[s]&&a*l>0;)t[s].moveTowards(s,t),l=a,a=e-t.offset().left;if(s*a<-s*l&&t[-s].moveTowards(-s,t),t.anticursor){if(t.anticursor.parent===this){var u=t[p]&&t[p].text.length;if(this.anticursorPosition===u)t.anticursor=b.copy(t);else{if(this.anticursorPosition<u){var c=t[p].splitRight(this.anticursorPosition);t[p]=c}else c=t[h].splitRight(this.anticursorPosition-u);t.anticursor=b(this,c[p],c)}}}else this.anticursorPosition=t[p]&&t[p].text.length},e.blur=function(e){$.prototype.blur.call(this),e&&(""===this.textContents()?(this.remove(),e[p]===this?e[p]=this[p]:e[h]===this&&(e[h]=this[h])):n(this))},e.focus=$.prototype.focus})),V=d(y,(function(e,t){function n(e,t){return t.charAt(e===p?0:-1+t.length)}e.init=function(e){t.init.call(this),this.text=e},e.jQadd=function(e){this.dom=e,this.jQ=v(e)},e.jQize=function(){return this.jQadd(document.createTextNode(this.text))},e.appendText=function(e){this.text+=e,this.dom.appendData(e)},e.prependText=function(e){this.text=e+this.text,this.dom.insertData(0,e)},e.insTextAtDirEnd=function(e,t){m(t),t===h?this.appendText(e):this.prependText(e)},e.splitRight=function(e){var t=V(this.text.slice(e)).adopt(this.parent,this,this[h]);return t.jQadd(this.dom.splitText(e)),this.text=this.text.slice(0,e),t},e.moveTowards=function(e,t){m(e);var r=n(-e,this.text),o=this[-e];return o?o.insTextAtDirEnd(r,e):V(r).createDir(-e,t),this.deleteTowards(e,t)},e.latex=function(){return this.text},e.deleteTowards=function(e,t){this.text.length>1?e===h?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),t[e]=this[e])},e.selectTowards=function(e,t){m(e);var r=t.anticursor,o=n(-e,this.text);if(r[e]===this){var i=V(o).createDir(e,t);r[e]=i,t.insDirOf(e,i)}else{var a=this[-e];if(a)a.insTextAtDirEnd(o,e);else(i=V(o).createDir(-e,t)).jQ.insDirOf(-e,t.selection.jQ);1===this.text.length&&r[-e]===this&&(r[-e]=this[-e])}return this.deleteTowards(e,t)}}));function X(e,t,n){return d(Y,{ctrlSeq:e,htmlTemplate:"<"+t+" "+n+">&0</"+t+">"})}O.$=_.text=_.textnormal=_.textrm=_.textup=_.textmd=Y,_.em=_.italic=_.italics=_.emph=_.textit=_.textsl=X("\\textit","i",'class="mq-text-mode"'),_.strong=_.bold=_.textbf=X("\\textbf","b",'class="mq-text-mode"'),_.sf=_.textsf=X("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),_.tt=_.texttt=X("\\texttt","span",'class="mq-monospace mq-text-mode"'),_.textsc=X("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),_.uppercase=X("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),_.lowercase=X("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var J=d(z,(function(e,t){e.init=function(e){t.init.call(this,"$"),this.cursor=e},e.htmlTemplate='<span class="mq-math-mode">&0</span>',e.createBlocks=function(){t.createBlocks.call(this),this.ends[p].cursor=this.cursor,this.ends[p].write=function(e,t){"$"!==t?$.prototype.write.call(this,e,t):this.isEmpty()?(e.insRightOf(this.parent),this.parent.deleteTowards(dir,e),W("\\$","$").createLeftOf(e.show())):e[h]?e[p]?$.prototype.write.call(this,e,t):e.insLeftOf(this.parent):e.insRightOf(this.parent)}},e.latex=function(){return"$"+this.ends[p].latex()+"$"}})),Z=d(K,(function(e,t){e.keystroke=function(e){if("Spacebar"!==e&&"Shift-Spacebar"!==e)return t.keystroke.apply(this,arguments)},e.write=function(e,t){var n;(e.show().deleteSelection(),"$"===t)?J(e).createLeftOf(e):("<"===t?n="&lt;":">"===t&&(n="&gt;"),W(t,n).createLeftOf(e))}}));S.TextField=function(e){return d(e.EditableField,(function(e,t){this.RootBlock=Z,e.__mathquillify=function(){return t.__mathquillify.call(this,"mq-editable-field mq-text-mode")},e.latex=function(e){return arguments.length>0?(this.__controller.renderLatexText(e),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}}))},_.notin=_.cong=_.equiv=_.oplus=_.otimes=d(G,(function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}})),_["≠"]=_.ne=_.neq=c(G,"\\ne ","&ne;"),_.ast=_.star=_.loast=_.lowast=c(G,"\\ast ","&lowast;"),_.therefor=_.therefore=c(G,"\\therefore ","&there4;"),_.cuz=_.because=c(G,"\\because ","&#8757;"),_.prop=_.propto=c(G,"\\propto ","&prop;"),_["≈"]=_.asymp=_.approx=c(G,"\\approx ","&asymp;"),_.isin=_.in=c(G,"\\in ","&isin;"),_.ni=_.contains=c(G,"\\ni ","&ni;"),_.notni=_.niton=_.notcontains=_.doesnotcontain=c(G,"\\not\\ni ","&#8716;"),_.sub=_.subset=c(G,"\\subset ","&sub;"),_.sup=_.supset=_.superset=c(G,"\\supset ","&sup;"),_.nsub=_.notsub=_.nsubset=_.notsubset=c(G,"\\not\\subset ","&#8836;"),_.nsup=_.notsup=_.nsupset=_.notsupset=_.nsuperset=_.notsuperset=c(G,"\\not\\supset ","&#8837;"),_.sube=_.subeq=_.subsete=_.subseteq=c(G,"\\subseteq ","&sube;"),_.supe=_.supeq=_.supsete=_.supseteq=_.supersete=_.superseteq=c(G,"\\supseteq ","&supe;"),_.nsube=_.nsubeq=_.notsube=_.notsubeq=_.nsubsete=_.nsubseteq=_.notsubsete=_.notsubseteq=c(G,"\\not\\subseteq ","&#8840;"),_.nsupe=_.nsupeq=_.notsupe=_.notsupeq=_.nsupsete=_.nsupseteq=_.notsupsete=_.notsupseteq=_.nsupersete=_.nsuperseteq=_.notsupersete=_.notsuperseteq=c(G,"\\not\\supseteq ","&#8841;"),_.N=_.naturals=_.Naturals=c(W,"\\mathbb{N}","&#8469;"),_.P=_.primes=_.Primes=_.projective=_.Projective=_.probability=_.Probability=c(W,"\\mathbb{P}","&#8473;"),_.Z=_.integers=_.Integers=c(W,"\\mathbb{Z}","&#8484;"),_.Q=_.rationals=_.Rationals=c(W,"\\mathbb{Q}","&#8474;"),_.R=_.reals=_.Reals=c(W,"\\mathbb{R}","&#8477;"),_.C=_.complex=_.Complex=_.complexes=_.Complexes=_.complexplane=_.Complexplane=_.ComplexPlane=c(W,"\\mathbb{C}","&#8450;"),_.H=_.Hamiltonian=_.quaternions=_.Quaternions=c(W,"\\mathbb{H}","&#8461;"),_.quad=_.emsp=c(W,"\\quad ","    "),_.qquad=c(W,"\\qquad ","        "),_.diamond=c(W,"\\diamond ","&#9671;"),_.bigtriangleup=c(W,"\\bigtriangleup ","&#9651;"),_.ominus=c(W,"\\ominus ","&#8854;"),_.uplus=c(W,"\\uplus ","&#8846;"),_.bigtriangledown=c(W,"\\bigtriangledown ","&#9661;"),_.sqcap=c(W,"\\sqcap ","&#8851;"),_.triangleleft=c(W,"\\triangleleft ","&#8882;"),_.sqcup=c(W,"\\sqcup ","&#8852;"),_.triangleright=c(W,"\\triangleright ","&#8883;"),_.odot=_.circledot=c(W,"\\odot ","&#8857;"),_.bigcirc=c(W,"\\bigcirc ","&#9711;"),_.dagger=c(W,"\\dagger ","&#0134;"),_.ddagger=c(W,"\\ddagger ","&#135;"),_.wr=c(W,"\\wr ","&#8768;"),_.amalg=c(W,"\\amalg ","&#8720;"),_.models=c(W,"\\models ","&#8872;"),_.prec=c(W,"\\prec ","&#8826;"),_.succ=c(W,"\\succ ","&#8827;"),_.preceq=c(W,"\\preceq ","&#8828;"),_.succeq=c(W,"\\succeq ","&#8829;"),_.simeq=c(W,"\\simeq ","&#8771;"),_.mid=c(W,"\\mid ","&#8739;"),_.ll=c(W,"\\ll ","&#8810;"),_.gg=c(W,"\\gg ","&#8811;"),_.parallel=c(W,"\\parallel ","&#8741;"),_.nparallel=c(W,"\\nparallel ","&#8742;"),_.bowtie=c(W,"\\bowtie ","&#8904;"),_.sqsubset=c(W,"\\sqsubset ","&#8847;"),_.sqsupset=c(W,"\\sqsupset ","&#8848;"),_.smile=c(W,"\\smile ","&#8995;"),_.sqsubseteq=c(W,"\\sqsubseteq ","&#8849;"),_.sqsupseteq=c(W,"\\sqsupseteq ","&#8850;"),_.doteq=c(W,"\\doteq ","&#8784;"),_.frown=c(W,"\\frown ","&#8994;"),_.vdash=c(W,"\\vdash ","&#8870;"),_.dashv=c(W,"\\dashv ","&#8867;"),_.nless=c(W,"\\nless ","&#8814;"),_.ngtr=c(W,"\\ngtr ","&#8815;"),_.longleftarrow=c(W,"\\longleftarrow ","&#8592;"),_.longrightarrow=c(W,"\\longrightarrow ","&#8594;"),_.Longleftarrow=c(W,"\\Longleftarrow ","&#8656;"),_.Longrightarrow=c(W,"\\Longrightarrow ","&#8658;"),_.longleftrightarrow=c(W,"\\longleftrightarrow ","&#8596;"),_.updownarrow=c(W,"\\updownarrow ","&#8597;"),_.Longleftrightarrow=c(W,"\\Longleftrightarrow ","&#8660;"),_.Updownarrow=c(W,"\\Updownarrow ","&#8661;"),_.mapsto=c(W,"\\mapsto ","&#8614;"),_.nearrow=c(W,"\\nearrow ","&#8599;"),_.hookleftarrow=c(W,"\\hookleftarrow ","&#8617;"),_.hookrightarrow=c(W,"\\hookrightarrow ","&#8618;"),_.searrow=c(W,"\\searrow ","&#8600;"),_.leftharpoonup=c(W,"\\leftharpoonup ","&#8636;"),_.rightharpoonup=c(W,"\\rightharpoonup ","&#8640;"),_.swarrow=c(W,"\\swarrow ","&#8601;"),_.leftharpoondown=c(W,"\\leftharpoondown ","&#8637;"),_.rightharpoondown=c(W,"\\rightharpoondown ","&#8641;"),_.nwarrow=c(W,"\\nwarrow ","&#8598;"),_.ldots=c(W,"\\ldots ","&#8230;"),_.cdots=c(W,"\\cdots ","&#8943;"),_.vdots=c(W,"\\vdots ","&#8942;"),_.ddots=c(W,"\\ddots ","&#8945;"),_.surd=c(W,"\\surd ","&#8730;"),_.triangle=c(W,"\\triangle ","&#9651;"),_.ell=c(W,"\\ell ","&#8467;"),_.top=c(W,"\\top ","&#8868;"),_.flat=c(W,"\\flat ","&#9837;"),_.natural=c(W,"\\natural ","&#9838;"),_.sharp=c(W,"\\sharp ","&#9839;"),_.wp=c(W,"\\wp ","&#8472;"),_.bot=c(W,"\\bot ","&#8869;"),_.clubsuit=c(W,"\\clubsuit ","&#9827;"),_.diamondsuit=c(W,"\\diamondsuit ","&#9826;"),_.heartsuit=c(W,"\\heartsuit ","&#9825;"),_.spadesuit=c(W,"\\spadesuit ","&#9824;"),_.parallelogram=c(W,"\\parallelogram ","&#9649;"),_.square=c(W,"\\square ","&#11036;"),_.oint=c(W,"\\oint ","&#8750;"),_.bigcap=c(W,"\\bigcap ","&#8745;"),_.bigcup=c(W,"\\bigcup ","&#8746;"),_.bigsqcup=c(W,"\\bigsqcup ","&#8852;"),_.bigvee=c(W,"\\bigvee ","&#8744;"),_.bigwedge=c(W,"\\bigwedge ","&#8743;"),_.bigodot=c(W,"\\bigodot ","&#8857;"),_.bigotimes=c(W,"\\bigotimes ","&#8855;"),_.bigoplus=c(W,"\\bigoplus ","&#8853;"),_.biguplus=c(W,"\\biguplus ","&#8846;"),_.lfloor=c(W,"\\lfloor ","&#8970;"),_.rfloor=c(W,"\\rfloor ","&#8971;"),_.lceil=c(W,"\\lceil ","&#8968;"),_.rceil=c(W,"\\rceil ","&#8969;"),_.opencurlybrace=_.lbrace=c(W,"\\lbrace ","{"),_.closecurlybrace=_.rbrace=c(W,"\\rbrace ","}"),_.lbrack=c(W,"["),_.rbrack=c(W,"]"),_.slash=c(W,"/"),_.vert=c(W,"|"),_.perp=_.perpendicular=c(W,"\\perp ","&perp;"),_.nabla=_.del=c(W,"\\nabla ","&nabla;"),_.hbar=c(W,"\\hbar ","&#8463;"),_.AA=_.Angstrom=_.angstrom=c(W,"\\text\\AA ","&#8491;"),_.ring=_.circ=_.circle=c(W,"\\circ ","&#8728;"),_.bull=_.bullet=c(W,"\\bullet ","&bull;"),_.setminus=_.smallsetminus=c(W,"\\setminus ","&#8726;"),_.not=_["¬"]=_.neg=c(W,"\\neg ","&not;"),_["…"]=_.dots=_.ellip=_.hellip=_.ellipsis=_.hellipsis=c(W,"\\dots ","&hellip;"),_.converges=_.darr=_.dnarr=_.dnarrow=_.downarrow=c(W,"\\downarrow ","&darr;"),_.dArr=_.dnArr=_.dnArrow=_.Downarrow=c(W,"\\Downarrow ","&dArr;"),_.diverges=_.uarr=_.uparrow=c(W,"\\uparrow ","&uarr;"),_.uArr=_.Uparrow=c(W,"\\Uparrow ","&uArr;"),_.to=c(G,"\\to ","&rarr;"),_.rarr=_.rightarrow=c(W,"\\rightarrow ","&rarr;"),_.implies=c(G,"\\Rightarrow ","&rArr;"),_.rArr=_.Rightarrow=c(W,"\\Rightarrow ","&rArr;"),_.gets=c(G,"\\gets ","&larr;"),_.larr=_.leftarrow=c(W,"\\leftarrow ","&larr;"),_.impliedby=c(G,"\\Leftarrow ","&lArr;"),_.lArr=_.Leftarrow=c(W,"\\Leftarrow ","&lArr;"),_.harr=_.lrarr=_.leftrightarrow=c(W,"\\leftrightarrow ","&harr;"),_.iff=c(G,"\\Leftrightarrow ","&hArr;"),_.hArr=_.lrArr=_.Leftrightarrow=c(W,"\\Leftrightarrow ","&hArr;"),_.Re=_.Real=_.real=c(W,"\\Re ","&real;"),_.Im=_.imag=_.image=_.imagin=_.imaginary=_.Imaginary=c(W,"\\Im ","&image;"),_.part=_.partial=c(W,"\\partial ","&part;"),_.infty=_.infin=_.infinity=c(W,"\\infty ","&infin;"),_.alef=_.alefsym=_.aleph=_.alephsym=c(W,"\\aleph ","&alefsym;"),_.xist=_.xists=_.exist=_.exists=c(W,"\\exists ","&exist;"),_.nexists=_.nexist=c(W,"\\nexists ","&#8708;"),_.and=_.land=_.wedge=c(W,"\\wedge ","&and;"),_.or=_.lor=_.vee=c(W,"\\vee ","&or;"),_.o=_.O=_.empty=_.emptyset=_.oslash=_.Oslash=_.nothing=_.varnothing=c(G,"\\varnothing ","&empty;"),_.cup=_.union=c(G,"\\cup ","&cup;"),_.cap=_.intersect=_.intersection=c(G,"\\cap ","&cap;"),_.deg=_.degree=c(W,"\\degree ","&deg;"),_.ang=_.angle=c(W,"\\angle ","&ang;"),_.measuredangle=c(W,"\\measuredangle ","&#8737;");var ee=d(W,(function(e,t){e.createLeftOf=function(e){e.options.autoSubscriptNumerals&&e.parent!==e.parent.parent.sub&&(e[p]instanceof te&&!1!==e[p].isItalic||e[p]instanceof _e&&e[p][p]instanceof te&&!1!==e[p][p].isItalic)?(_._().createLeftOf(e),t.createLeftOf.call(this,e),e.insRightOf(e.parent.parent)):t.createLeftOf.call(this,e)}})),te=d(H,(function(e,t){e.init=function(e,n){t.init.call(this,e,"<var>"+(n||e)+"</var>")},e.text=function(){var e=this.ctrlSeq;return!this[p]||this[p]instanceof te||this[p]instanceof G||"\\ "===this[p].ctrlSeq||(e="*"+e),!this[h]||this[h]instanceof G||this[h]instanceof _e||(e+="*"),e}}));T.p.autoCommands={_maxLength:0},j.autoCommands=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';if(_[a]===ae)throw'"'+a+'" is a built-in operator name';n[a]=1,r=o(r,a.length)}return n._maxLength=r,n};var ne=d(te,(function(e,t){function n(e){return!e||e instanceof G||e instanceof Ee}e.init=function(e){return t.init.call(this,this.letter=e)},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments);var n=e.options.autoCommands,r=n._maxLength;if(r>0){for(var o="",i=this,a=0;i instanceof ne&&i.ctrlSeq===i.letter&&a<r;)o=i.letter+o,i=i[p],a+=1;for(;o.length;){if(n.hasOwnProperty(o)){for(a=1,i=this;a<o.length;a+=1,i=i[p]);return w(i,this).remove(),e[p]=i[p],_[o](o).createLeftOf(e)}o=o.slice(1)}}},e.italicize=function(e){return this.isItalic=e,this.jQ.toggleClass("mq-operator-name",!e),this},e.finalizeTree=e.siblingDeleted=e.siblingCreated=function(e,t){t!==p&&this[h]instanceof ne||this.autoUnItalicize(e)},e.autoUnItalicize=function(e){var t=e.autoOperatorNames;if(0!==t._maxLength){for(var o=this.letter,i=this[p];i instanceof ne;i=i[p])o=i.letter+o;for(var a=this[h];a instanceof ne;a=a[h])o+=a.letter;w(i[h]||this.parent.ends[p],a[p]||this.parent.ends[h]).each((function(e){e.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),e.ctrlSeq=e.letter}));e:for(var s=0,l=i[h]||this.parent.ends[p];s<o.length;s+=1,l=l[h])for(var u=r(t._maxLength,o.length-s);u>0;u-=1){var c=o.slice(s,s+u);if(t.hasOwnProperty(c)){for(var f=0,d=l;f<u;f+=1,d=d[h]){d.italicize(!1);var m=d}var v=re.hasOwnProperty(c);if(l.ctrlSeq=(v?"\\":"\\operatorname{")+l.ctrlSeq,m.ctrlSeq+=v?" ":"}",ie.hasOwnProperty(c)&&m[p][p][p].jQ.addClass("mq-last"),n(l[p])||l.jQ.addClass("mq-first"),!n(m[h]))if(m[h]instanceof _e){var b=m[h];(b.siblingCreated=b.siblingDeleted=function(){b.jQ.toggleClass("mq-after-operator-name",!(b[h]instanceof ke))})()}else m.jQ.toggleClass("mq-last",!(m[h]instanceof ke));s+=u-1,l=m;continue e}}}}})),re={},oe=T.p.autoOperatorNames={_maxLength:9},ie={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var e="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),t=0;t<e.length;t+=1)re[e[t]]=oe[e[t]]=1;var n="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(t=0;t<n.length;t+=1)re[n[t]]=1;var r="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(t=0;t<r.length;t+=1)oe[r[t]]=oe["arc"+r[t]]=oe[r[t]+"h"]=oe["ar"+r[t]+"h"]=oe["arc"+r[t]+"h"]=1;var o="gcf hcf lcm proj span".split(" ");for(t=0;t<o.length;t+=1)oe[o[t]]=1}(),j.autoOperatorNames=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'"'+a+'" not minimum length of 2';n[a]=1,r=o(r,a.length)}return n._maxLength=r,n};var ae=d(H,(function(e,t){e.init=function(e){this.ctrlSeq=e},e.createLeftOf=function(e){for(var t=this.ctrlSeq,n=0;n<t.length;n+=1)ne(t.charAt(n)).createLeftOf(e)},e.parser=function(){for(var e=this.ctrlSeq,t=$(),n=0;n<e.length;n+=1)ne(e.charAt(n)).adopt(t,t.ends[h],0);return Q.succeed(t.children())}}));for(var se in oe)oe.hasOwnProperty(se)&&(_[se]=ae);_.operatorname=d(z,(function(e){e.createLeftOf=i,e.numBlocks=function(){return 1},e.parser=function(){return B.block.map((function(e){return e.children()}))}})),_.f=d(ne,(function(e,t){e.init=function(){H.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},e.italicize=function(e){return this.jQ.html("f").toggleClass("mq-f",e),t.italicize.apply(this,arguments)}})),_[" "]=_.space=c(W,"\\ ","&nbsp;"),_["'"]=_.prime=c(W,"'","&prime;"),_.backslash=c(W,"\\backslash ","\\"),O["\\"]||(O["\\"]=_.backslash),_.$=c(W,"\\$","$");var le=d(H,(function(e,t){e.init=function(e,n){t.init.call(this,e,'<span class="mq-nonSymbola">'+(n||e)+"</span>")}}));_["@"]=le,_["&"]=c(le,"\\&","&amp;"),_["%"]=c(le,"\\%","%"),_.alpha=_.beta=_.gamma=_.delta=_.zeta=_.eta=_.theta=_.iota=_.kappa=_.mu=_.nu=_.xi=_.rho=_.sigma=_.tau=_.chi=_.psi=_.omega=d(te,(function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}})),_.phi=c(te,"\\phi ","&#981;"),_.phiv=_.varphi=c(te,"\\varphi ","&phi;"),_.epsilon=c(te,"\\epsilon ","&#1013;"),_.epsiv=_.varepsilon=c(te,"\\varepsilon ","&epsilon;"),_.piv=_.varpi=c(te,"\\varpi ","&piv;"),_.sigmaf=_.sigmav=_.varsigma=c(te,"\\varsigma ","&sigmaf;"),_.thetav=_.vartheta=_.thetasym=c(te,"\\vartheta ","&thetasym;"),_.upsilon=_.upsi=c(te,"\\upsilon ","&upsilon;"),_.gammad=_.Gammad=_.digamma=c(te,"\\digamma ","&#989;"),_.kappav=_.varkappa=c(te,"\\varkappa ","&#1008;"),_.rhov=_.varrho=c(te,"\\varrho ","&#1009;"),_.pi=_["π"]=c(le,"\\pi ","&pi;"),_.lambda=c(le,"\\lambda ","&lambda;"),_.Upsilon=_.Upsi=_.upsih=_.Upsih=c(H,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),_.Gamma=_.Delta=_.Theta=_.Lambda=_.Xi=_.Pi=_.Sigma=_.Phi=_.Psi=_.Omega=_.forall=d(W,(function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}}));var ue=d(z,(function(e){e.init=function(e){this.latex=e},e.createLeftOf=function(e){var t=B.parse(this.latex);t.children().adopt(e.parent,e[p],e[h]),e[p]=t.ends[h],t.jQize().insertBefore(e.jQ),t.finalizeInsert(e.options,e),t.ends[h][h].siblingCreated&&t.ends[h][h].siblingCreated(e.options,p),t.ends[p][p].siblingCreated&&t.ends[p][p].siblingCreated(e.options,h),e.parent.bubble("reflow")},e.parser=function(){var e=B.parse(this.latex).children();return Q.succeed(e)}}));_["¹"]=c(ue,"^1"),_["²"]=c(ue,"^2"),_["³"]=c(ue,"^3"),_["¼"]=c(ue,"\\frac14"),_["½"]=c(ue,"\\frac12"),_["¾"]=c(ue,"\\frac34");var ce=d(G,(function(e){e.init=W.prototype.init,e.contactWeld=e.siblingCreated=e.siblingDeleted=function(e,t){if(t!==h)return this.jQ[0].className=!this[p]||this[p]instanceof G||/^[,;:\(\[]$/.test(this[p].ctrlSeq)?"":"mq-binary-operator",this}}));_["+"]=c(ce,"+","+"),_["–"]=_["-"]=c(ce,"-","&minus;"),_["±"]=_.pm=_.plusmn=_.plusminus=c(ce,"\\pm ","&plusmn;"),_.mp=_.mnplus=_.minusplus=c(ce,"\\mp ","&#8723;"),O["*"]=_.sdot=_.cdot=c(G,"\\cdot ","&middot;","*");var fe=d(G,(function(e,t){e.init=function(e,n){this.data=e,this.strict=n;var r=n?"Strict":"";t.init.call(this,e["ctrlSeq"+r],e["html"+r],e["text"+r])},e.swap=function(e){this.strict=e;var t=e?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+t],this.jQ.html(this.data["html"+t]),this.textTemplate=[this.data["text"+t]]},e.deleteTowards=function(e,n){if(e===p&&!this.strict)return this.swap(!0),void this.bubble("reflow");t.deleteTowards.apply(this,arguments)}})),de={ctrlSeq:"\\le ",html:"&le;",text:"≤",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},pe={ctrlSeq:"\\ge ",html:"&ge;",text:"≥",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};_["<"]=_.lt=c(fe,de,!0),_[">"]=_.gt=c(fe,pe,!0),_["≤"]=_.le=_.leq=c(fe,de,!1),_["≥"]=_.ge=_.geq=c(fe,pe,!1);var he=d(G,(function(e,t){e.init=function(){t.init.call(this,"=","=")},e.createLeftOf=function(e){if(e[p]instanceof fe&&e[p].strict)return e[p].swap(!1),void e[p].bubble("reflow");t.createLeftOf.apply(this,arguments)}}));_["="]=he,_["×"]=_.times=c(G,"\\times ","&times;","[x]"),_["÷"]=_.div=_.divide=_.divides=c(G,"\\div ","&divide;","[/]"),O["~"]=_.sim=c(G,"\\sim ","~","~");var me,ve,be=i,ye=document.createElement("div").style;for(var ge in{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(ge in ye){ve=ge;break}ve?me=function(e,t,n){e.css(ve,"scale("+t+","+n+")")}:"filter"in ye?(be=function(e){e.className=e.className},me=function(e,t,n){t/=1+(n-1)/2,e.css("fontSize",n+"em"),e.hasClass("mq-matrixed-container")||e.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var r=e.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+t+",SizingMethod='auto expand')");function o(){e.css("marginRight",(r.width()-1)*(t-1)/t+"px")}o();var i=setInterval(o);v(window).load((function(){clearTimeout(i),o()}))}):me=function(e,t,n){e.css("fontSize",n+"em")};var we=d(z,(function(e,t){e.init=function(e,n,r){t.init.call(this,e,"<"+n+" "+r+">&0</"+n+">")}}));_.mathrm=c(we,"\\mathrm","span",'class="mq-roman mq-font"'),_.mathit=c(we,"\\mathit","i",'class="mq-font"'),_.mathbf=c(we,"\\mathbf","b",'class="mq-font"'),_.mathsf=c(we,"\\mathsf","span",'class="mq-sans-serif mq-font"'),_.mathtt=c(we,"\\mathtt","span",'class="mq-monospace mq-font"'),_.underline=c(we,"\\underline","span",'class="mq-non-leaf mq-underline"'),_.overline=_.bar=c(we,"\\overline","span",'class="mq-non-leaf mq-overline"'),_.overrightarrow=c(we,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),_.overleftarrow=c(we,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"');_.textcolor=d(z,(function(e,t){e.setColor=function(e){this.color=e,this.htmlTemplate='<span class="mq-textcolor" style="color:'+e+'">&0</span>'},e.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},e.parser=function(){var e=this,n=Q.optWhitespace,r=Q.string,o=Q.regex;return n.then(r("{")).then(o(/^[#\w\s.,()%-]*/)).skip(r("}")).then((function(n){return e.setColor(n),t.parser.call(e)}))}})),_.class=d(z,(function(e,t){e.parser=function(){var e=this,n=Q.string,r=Q.regex;return Q.optWhitespace.then(n("{")).then(r(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then((function(n){return e.htmlTemplate='<span class="mq-class '+n+'">&0</span>',t.parser.call(e)}))}}));var _e=d(z,(function(e,t){e.ctrlSeq="_{...}^{...}",e.createLeftOf=function(e){if(e[p]||!e.options.supSubsRequireOperand)return t.createLeftOf.apply(this,arguments)},e.contactWeld=function(e){for(var t=p;t;t=t===p&&h)if(this[t]instanceof _e){for(var n="sub";n;n="sub"===n&&"sup"){var r=this[n],o=this[t][n];if(r){if(o)if(r.isEmpty())a=b(o,0,o.ends[p]);else{r.jQ.children().insAtDirEnd(-t,o.jQ);var i=r.children().disown(),a=b(o,i.ends[h],o.ends[p]);t===p?i.adopt(o,o.ends[h],0):i.adopt(o,0,o.ends[p])}else this[t].addBlock(r.disown());this.placeCursor=function(e,n){return function(r){r.insAtDirEnd(-t,e||n)}}(o,r)}}this.remove(),e&&e[p]===this&&(t===h&&a?a[p]?e.insRightOf(a[p]):e.insAtLeftEnd(a.parent):e.insRightOf(this[t]));break}},T.p.charsThatBreakOutOfSupSub="",e.finalizeTree=function(){this.ends[p].write=function(e,t){if(e.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===t)return;var n=this.chToCmd(t);return n instanceof H?e.deleteSelection():e.clearSelection().insRightOf(this.parent),n.createLeftOf(e.show())}e[p]&&!e[h]&&!e.selection&&e.options.charsThatBreakOutOfSupSub.indexOf(t)>-1&&e.insRightOf(this.parent),$.p.write.apply(this,arguments)}},e.moveTowards=function(e,n,r){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(e,this):t.moveTowards.apply(this,arguments)},e.deleteTowards=function(e,n){if(n.options.autoSubscriptNumerals&&this.sub){var r=this.sub.ends[-e];r instanceof H?r.remove():r&&r.deleteTowards(e,n.insAtDirEnd(-e,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(p,n.insAtLeftEnd(this.sub)),this.sup&&n.insDirOf(-e,this))}else t.deleteTowards.apply(this,arguments)},e.latex=function(){function e(e,t){var n=t&&t.latex();return t?e+(1===n.length?n:"{"+(n||" ")+"}"):""}return e("_",this.sub)+e("^",this.sup)},e.addBlock=function(e){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=e,e.adopt(this,this.sub,0).downOutOf=this.sub,e.jQ=v('<span class="mq-sup"/>').append(e.jQ.children()).attr(n,e.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=e,e.adopt(this,0,this.sup).upOutOf=this.sup,e.jQ=v('<span class="mq-sub"></span>').append(e.jQ.children()).attr(n,e.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var t=0;t<2;t+=1)!function(e,t,n,r){e[t].deleteOutOf=function(o,i){if(i.insDirOf(this[o]?-o:o,this.parent),!this.isEmpty()){var a=this.ends[o];this.children().disown().withDirAdopt(o,i.parent,i[o],i[-o]).jQ.insDirOf(-o,i.jQ),i[-o]=a}e.supsub=n,delete e[t],delete e[r+"Into"],e[n][r+"OutOf"]=Oe,delete e[n].deleteOutOf,"sub"===t&&v(e.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])}}));function Oe(e){var t=this.parent,n=e;do{if(n[h])return e.insLeftOf(t);n=n.parent.parent}while(n!==t);e.insRightOf(t)}_.subscript=_._=d(_e,(function(e,t){e.supsub="sub",e.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["_"],e.finalizeTree=function(){this.downInto=this.sub=this.ends[p],this.sub.upOutOf=Oe,t.finalizeTree.call(this)}})),_.superscript=_.supscript=_["^"]=d(_e,(function(e,t){e.supsub="sup",e.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',e.textTemplate=["^"],e.finalizeTree=function(){this.upInto=this.sup=this.ends[h],this.sup.downOutOf=Oe,t.finalizeTree.call(this)}}));var Ee=d(z,(function(e,t){e.init=function(e,t){var n='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+t+'</big><span class="mq-from"><span>&0</span></span></span>';H.prototype.init.call(this,e,n)},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments),e.options.sumStartsWithNEquals&&(ne("n").createLeftOf(e),he().createLeftOf(e))},e.latex=function(){function e(e){return 1===e.length?e:"{"+(e||" ")+"}"}return this.ctrlSeq+"_"+e(this.ends[p].latex())+"^"+e(this.ends[h].latex())},e.parser=function(){for(var e=Q.string,t=Q.optWhitespace,n=Q.succeed,r=B.block,o=this,i=o.blocks=[$(),$()],a=0;a<i.length;a+=1)i[a].adopt(o,o.ends[h],0);return t.then(e("_").or(e("^"))).then((function(e){var t=i["_"===e?0:1];return r.then((function(e){return e.children().adopt(t,t.ends[h],0),n(o)}))})).many().result(o)},e.finalizeTree=function(){this.downInto=this.ends[p],this.upInto=this.ends[h],this.ends[p].upOutOf=this.ends[h],this.ends[h].downOutOf=this.ends[p]}}));_["∑"]=_.sum=_.summation=c(Ee,"\\sum ","&sum;"),_["∏"]=_.prod=_.product=c(Ee,"\\prod ","&prod;"),_.coprod=_.coproduct=c(Ee,"\\coprod ","&#8720;"),_["∫"]=_.int=_.integral=d(Ee,(function(e,t){e.init=function(){H.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},e.createLeftOf=z.p.createLeftOf}));var xe=_.frac=_.dfrac=_.cfrac=_.fraction=d(z,(function(e,t){e.ctrlSeq="\\frac",e.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["(",")/(",")"],e.finalizeTree=function(){this.upInto=this.ends[h].upOutOf=this.ends[p],this.downInto=this.ends[p].downOutOf=this.ends[h]}})),Ce=_.over=O["/"]=d(xe,(function(e,t){e.createLeftOf=function(e){if(!this.replacedFragment){for(var n=e[p];n&&!(n instanceof G||n instanceof(_.text||i)||n instanceof Ee||"\\ "===n.ctrlSeq||/^[,;:]$/.test(n.ctrlSeq));)n=n[p];n instanceof Ee&&n[h]instanceof _e&&(n=n[h])[h]instanceof _e&&n[h].ctrlSeq!=n.ctrlSeq&&(n=n[h]),n!==e[p]&&(this.replaces(w(n[h]||e.parent.ends[p],e[p])),e[p]=n)}t.createLeftOf.call(this,e)}})),Se=_.sqrt=_["√"]=d(z,(function(e,t){e.ctrlSeq="\\sqrt",e.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',e.textTemplate=["sqrt(",")"],e.parser=function(){return B.optBlock.then((function(e){return B.block.map((function(t){var n=Te();return n.blocks=[e,t],e.adopt(n,0,0),t.adopt(n,e,0),n}))})).or(t.parser.call(this))},e.reflow=function(){var e=this.ends[h].jQ;me(e.prev(),1,e.innerHeight()/+e.css("fontSize").slice(0,-2)-.1)}})),Te=(_.vec=d(z,(function(e,t){e.ctrlSeq="\\vec",e.htmlTemplate='<span class="mq-non-leaf"><span class="mq-vector-prefix">&rarr;</span><span class="mq-vector-stem">&0</span></span>',e.textTemplate=["vec(",")"]})),_.nthroot=d(Se,(function(e,t){e.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',e.textTemplate=["sqrt[","](",")"],e.latex=function(){return"\\sqrt["+this.ends[p].latex()+"]{"+this.ends[h].latex()+"}"}})));function je(e,t){e.jQadd=function(){t.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},e.reflow=function(){var e=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));me(this.delimjQs,r(1+.2*(e-1),1.2),1.2*e)}}var ke=d(d(z,je),(function(t,n){t.init=function(t,r,o,i,a){n.init.call(this,"\\left"+i,e,[r,o]),this.side=t,this.sides={},this.sides[p]={ch:r,ctrlSeq:i},this.sides[h]={ch:o,ctrlSeq:a}},t.numBlocks=function(){return 1},t.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(this.side===h?" mq-ghost":"")+'">'+this.sides[p].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===p?" mq-ghost":"")+'">'+this.sides[h].ch+"</span></span>",n.html.call(this)},t.latex=function(){return"\\left"+this.sides[p].ctrlSeq+this.ends[p].latex()+"\\right"+this.sides[h].ctrlSeq},t.oppBrack=function(e,t,n){return t instanceof ke&&t.side&&t.side!==-n&&("|"===this.sides[this.side].ch||t.side===-this.side)&&(!e.restrictMismatchedBrackets||qe[this.sides[this.side].ch]===t.sides[t.side].ch||{"(":"]","[":")"}[this.sides[p].ch]===t.sides[h].ch)&&t},t.closeOpposing=function(e){e.side=0,e.sides[this.side]=this.sides[this.side],e.delimjQs.eq(this.side===p?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},t.createLeftOf=function(e){if(!this.replacedFragment)var t=e.options,r=this.oppBrack(t,e[p],p)||this.oppBrack(t,e[h],h)||this.oppBrack(t,e.parent.parent);if(r){var o=this.side=-r.side;this.closeOpposing(r),r===e.parent.parent&&e[o]&&(w(e[o],e.parent.ends[o],-o).disown().withDirAdopt(-o,r.parent,r,r[o]).jQ.insDirOf(o,r.jQ),r.bubble("reflow"))}else o=(r=this).side,r.replacedFragment?r.side=0:e[-o]&&(r.replaces(w(e[-o],e.parent.ends[-o],o)),e[-o]=0),n.createLeftOf.call(r,e);o===p?e.insAtLeftEnd(r.ends[p]):e.insRightOf(r)},t.placeCursor=i,t.unwrap=function(){this.ends[p].children().disown().adopt(this.parent,this,this[h]).jQ.insertAfter(this.jQ),this.remove()},t.deleteSide=function(e,t,n){var r=this.parent,o=this[e],i=r.ends[e];if(e===this.side)return this.unwrap(),void(o?n.insDirOf(-e,o):n.insAtDirEnd(e,r));var a=n.options,s=!this.side;if(this.side=-e,this.oppBrack(a,this.ends[p].ends[this.side],e)){this.closeOpposing(this.ends[p].ends[this.side]);var l=this.ends[p].ends[e];this.unwrap(),l.siblingCreated&&l.siblingCreated(n.options,e),o?n.insDirOf(-e,o):n.insAtDirEnd(e,r)}else{if(this.oppBrack(a,this.parent.parent,e))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(t&&s)return this.unwrap(),void(o?n.insDirOf(-e,o):n.insAtDirEnd(e,r));this.sides[e]={ch:qe[this.sides[this.side].ch],ctrlSeq:qe[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(e===p?0:1).addClass("mq-ghost").html(this.sides[e].ch)}if(o){l=this.ends[p].ends[e];w(o,i,-e).disown().withDirAdopt(-e,this.ends[p],l,0).jQ.insAtDirEnd(e,this.ends[p].jQ.removeClass("mq-empty")),l.siblingCreated&&l.siblingCreated(n.options,e),n.insDirOf(-e,o)}else t?n.insDirOf(e,this):n.insAtDirEnd(e,this.ends[p])}},t.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},t.finalizeTree=function(){this.ends[p].deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===p?1:0).removeClass("mq-ghost"),this.side=0}},t.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()}})),qe={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|"};function Le(e,t){t=t||e;var n=qe[e],r=qe[t];O[e]=c(ke,p,e,n,t,r),O[n]=c(ke,h,e,n,t,r)}Le("("),Le("["),Le("{","\\{"),_.langle=c(ke,p,"&lang;","&rang;","\\langle ","\\rangle "),_.rangle=c(ke,h,"&lang;","&rang;","\\langle ","\\rangle "),O["|"]=c(ke,p,"|","|","|","|"),_.left=d(z,(function(e){e.parser=function(){var e=Q.regex,t=Q.string,n=(Q.succeed,Q.optWhitespace);return n.then(e(/^(?:[([|]|\\\{)/)).then((function(r){var o="\\"===r.charAt(0)?r.slice(1):r;return B.then((function(i){return t("\\right").skip(n).then(e(/^(?:[\])|]|\\\})/)).map((function(e){var t="\\"===e.charAt(0)?e.slice(1):e,n=ke(0,o,t,r,e);return n.blocks=[i],i.adopt(n,0,0),n}))}))}))}})),_.right=d(z,(function(e){e.parser=function(){return Q.fail("unmatched \\right")}}));var Pe=_.binom=_.binomial=d(d(z,je),(function(e,t){e.ctrlSeq="\\binom",e.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',e.textTemplate=["choose(",",",")"]}));_.choose=d(Pe,(function(e){e.createLeftOf=Ce.prototype.createLeftOf}));_.editable=_.MathQuillMathField=d(z,(function(e,t){e.ctrlSeq="\\MathQuillMathField",e.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',e.parser=function(){var e=this,n=Q.string,r=Q.regex,o=Q.succeed;return n("[").then(r(/^[a-z][a-z0-9]*/i)).skip(n("]")).map((function(t){e.name=t})).or(o()).then(t.parser.call(e))},e.finalizeTree=function(){var e=C(this.ends[p],this.jQ,T());e.KIND_OF_MQ="MathField",e.editable=!0,e.createTextarea(),e.editablesTextareaEvents(),e.cursor.insAtRightEnd(e.root),N(e.root)},e.registerInnerField=function(e,t){e.push(e[this.name]=t(this.ends[p].controller))},e.latex=function(){return this.ends[p].latex()},e.text=function(){return this.ends[p].text()}}));var Ae=_.embed=d(H,(function(e,t){e.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.htmlTemplate=e.htmlString||"",this.latex=e.latex||t,this},e.parser=function(){var e=this;return string=Q.string,regex=Q.regex,succeed=Q.succeed,string("{").then(regex(/^[a-z][a-z0-9]*/i)).skip(string("}")).then((function(t){return string("[").then(regex(/^[-\w\s]*/)).skip(string("]")).or(succeed()).map((function(n){return e.setOptions(q[t](n))}))}))}})),Me=(O["\\"]=d(z,(function(e,t){e.ctrlSeq="\\",e.replaces=function(e){this._replacedFragment=e.disown(),this.isEmpty=function(){return!1}},e.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',e.textTemplate=["\\"],e.createBlocks=function(){t.createBlocks.call(this),this.ends[p].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[p].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[p].write=function(e,t){e.show().deleteSelection(),t.match(/[a-z]/i)?W(t).createLeftOf(e):(this.parent.renderCommand(e),"\\"===t&&this.isEmpty()||this.parent.parent.write(e,t))},this.ends[p].keystroke=function(e,n,r){return"Tab"===e||"Enter"===e||"Spacebar"===e?(this.parent.renderCommand(r.cursor),void n.preventDefault()):t.keystroke.apply(this,arguments)}},e.createLeftOf=function(e){if(t.createLeftOf.call(this,e),this._replacedFragment){var n=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",(function(e){return v(e.target=n).trigger(e),!1})).insertBefore(this.jQ).add(this.jQ)}},e.latex=function(){return"\\"+this.ends[p].latex()+" "},e.renderCommand=function(e){this.jQ=this.jQ.last(),this.remove(),this[h]?e.insLeftOf(this[h]):e.insAtRightEnd(this.parent);var t=this.ends[p].latex();t||(t=" ");var n=_[t];n?(n=n(t),this._replacedFragment&&n.replaces(this._replacedFragment),n.createLeftOf(e)):((n=Y()).replaces(t),n.createLeftOf(e),e.insRightOf(n),this._replacedFragment&&this._replacedFragment.remove())}})),D(1));for(var De in Me)!function(e,t){"function"==typeof t?(P[e]=function(){return L(),t.apply(this,arguments)},P[e].prototype=t.prototype):P[e]=t}(De,Me[De])}()},3501:function(e,t,n){"use strict";n.r(t);var r=n(239),o=n.n(r),i=n(183),a=n.n(i),s=n(241),l=n.n(s),u=n(184),c=n.n(u),f=n(80),d=n.n(f),p=n(1),h=n(2528),m=n(2529),v=n.n(m),b=v()(),y=v()(),g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,d()(l()(t),"referenceNode",void 0),d()(l()(t),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}c()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return p.createElement(b.Provider,{value:this.referenceNode},p.createElement(y.Provider,{value:this.setReferenceNode},this.props.children))},t}(p.Component),w=function(e){return Array.isArray(e)?e[0]:e},_=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},O=function(e,t){if("function"==typeof e)return _(e,t);null!=e&&(e.current=t)},E={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},x={},C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,d()(l()(t),"state",{data:void 0,placement:void 0}),d()(l()(t),"popperInstance",void 0),d()(l()(t),"popperNode",null),d()(l()(t),"arrowNode",null),d()(l()(t),"setPopperNode",(function(e){e&&t.popperNode!==e&&(O(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),d()(l()(t),"setArrowNode",(function(e){t.arrowNode=e})),d()(l()(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),d()(l()(t),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:a()({},t.props.modifiers,{arrow:a()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),d()(l()(t),"getPopperStyle",(function(){return t.popperNode&&t.state.data?a()({position:t.state.data.offsets.popper.position},t.state.data.styles):E})),d()(l()(t),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),d()(l()(t),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:x})),d()(l()(t),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),d()(l()(t),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),d()(l()(t),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=l()(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new h.a(n,e,t.getOptions()))})),d()(l()(t),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}c()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement!==e.placement||this.props.referenceElement!==e.referenceElement||this.props.positionFixed!==e.positionFixed||this.props.modifiers!==e.modifiers?this.updatePopperInstance():this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){O(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return w(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(p.Component);d()(C,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});var S=h.a.placements;function T(e){var t=e.referenceElement,n=o()(e,["referenceElement"]);return p.createElement(b.Consumer,null,(function(e){return p.createElement(C,a()({referenceElement:void 0!==t?t:e},n))}))}var j=n(2169),k=n.n(j),q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,d()(l()(t),"refHandler",(function(e){O(t.props.innerRef,e),_(t.props.setReferenceNode,e)})),t}c()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){O(this.props.innerRef,null)},n.render=function(){return k()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),w(this.props.children)({ref:this.refHandler})},t}(p.Component);function L(e){return p.createElement(y.Consumer,null,(function(t){return p.createElement(q,a()({setReferenceNode:t},e))}))}n.d(t,"Popper",(function(){return T})),n.d(t,"placements",(function(){return S})),n.d(t,"Manager",(function(){return g})),n.d(t,"Reference",(function(){return L}))}}]);
//# sourceMappingURL=https://s3-us-west-2.amazonaws.com/udacity-classroom-web/js/vendors~routes-courses~routes-nanodegrees.5f3a1.js.map